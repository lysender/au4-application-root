!function(){"use strict";var e=/^\d+$/g;function t(){setTimeout(function(){window.CustomEvent&&window.dispatchEvent(new CustomEvent("import-map-overrides:change"))})}window.importMapOverrides={addOverride:function(n,o){e.test(o)&&(o=window.importMapOverrides.getUrlFromPort(n,o));var r="import-map-override:"+n;return localStorage.setItem(r,o),t(),window.importMapOverrides.getOverrideMap()},getOverrideMap:function(){for(var e={imports:{}},t=0;t<localStorage.length;t++){var n=localStorage.key(t);n.startsWith("import-map-override:")&&(e.imports[n.slice("import-map-override:".length)]=localStorage.getItem(n))}return e},removeOverride:function(e){var n="import-map-override:"+e,o=null!==localStorage.getItem(n);return localStorage.removeItem(n),t(),o},resetOverrides:function(){return Object.keys(window.importMapOverrides.getOverrideMap().imports).forEach(function(e){window.importMapOverrides.removeOverride(e)}),t(),window.importMapOverrides.getOverrideMap()},hasOverrides:function(){return Object.keys(window.importMapOverrides.getOverrideMap().imports).length>0},getUrlFromPort:function(e,t){var n=e.replace(/@/g,"").replace(/\//g,"-");return"//localhost:".concat(t,"/").concat(n,".js")}};var n=window.importMapOverrides.getOverrideMap(),o=document.querySelector('meta[name="importmap-type"]'),r=o?o.getAttribute("content"):"importmap";if(Object.keys(n.imports).length>0){var i=document.createElement("script");i.type=r,i.id="import-map-overrides",i.innerHTML=JSON.stringify(n);var l=document.querySelectorAll('script[type="'.concat(r,'"]'));l.length>0?l[l.length-1].insertAdjacentElement("afterend",i):document.head.appendChild(i)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&m(r,n.prototype),r}).apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return f(e,arguments,p(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?v(e):t}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".imo-unstyled {\n  border: none;\n  padding: 0;\n  width: auto;\n  overflow: visible;\n  background: transparent;\n  color: inherit;\n  font: inherit;\n  line-height: normal;\n  cursor: pointer;\n  -webkit-font-smoothing: inherit;\n  -moz-osx-font-smoothing: inherit;\n  -webkit-appearance: none;\n}\n\n.imo-unstyled::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n.imo-trigger {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin: 10px;\n  border-radius: 5px;\n  background-color: navajowhite;\n  height: 50px;\n  width: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n  font-family: sans-serif;\n  z-index: 10500;\n}\n\n.imo-popup {\n  box-sizing: border-box;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 50%;\n  z-index: 10000;\n  background-color: black;\n  color: white;\n  font-family: sans-serif;\n  padding: 24px;\n  overflow-y: auto;\n}\n\n.imo-popup a:visited,\nimo-popup a {\n  color: white;\n}\n\n.imo-popup .imo-module-dialog {\n  left: calc(50% - 200px);\n}\n\n.imo-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.imo-list {\n  margin-left: 16px;\n}\n\n.imo-list > *:not(:last-child) {\n  margin-bottom: 8px;\n}\n\n.imo-list-container {\n  font-family: sans-serif;\n}\n\n.imo-module-dialog {\n  position: fixed;\n  z-index: 30000000;\n  top: 30%;\n  max-width: 600px;\n  margin: 0 auto;\n  border: 4px solid navajowhite;\n}\n\n.imo-module-dialog input {\n  width: 100%;\n  font-size: 16px;\n  box-sizing: border-box;\n  padding-right: 20px;\n}\n\n.imo-module-dialog table {\n  margin-bottom: 16px;\n}\n\n.imo-module-dialog table td:first-child {\n  text-align: right;\n  padding-right: 16px;\n  word-break: keep-all;\n}\n\n.imo-module-dialog table td {\n  word-break: break-all;\n}\n\n.imo-module-dialog.imo-overridden {\n  border: 4px solid salmon;\n}\n\n.imo-list-container button,\n.imo-modal-container button {\n  padding: 6px 16px;\n  font-size: 16px;\n  text-align: center;\n}\n\nbutton.imo-default {\n  background-color: navajowhite;\n}\n\nbutton.imo-overridden,\n.imo-trigger.imo-overridden {\n  background-color: salmon;\n  font-weight: bold;\n}\n\n.imo-add-new {\n  margin-top: 16px;\n  margin-left: 16px;\n}\n\n.imo-clear-input {\n  position: absolute;\n  top: 0;\n  right: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.imo-modal-container {\n  font-family: sans-serif;\n}\n\n.imo-modal {\n  background-color: rgba(61, 70, 77, 0.6);\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  z-index: 20000000;\n}\n\n.imo-list-search {\n  font-size: 18px;\n}\n");var g,y,w,b,k,M={},x=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function U(e,t){for(var n in t)e[n]=t[n];return e}function O(e){var t=e.parentNode;t&&t.removeChild(e)}function S(e,t,n){var o,r,i,l,a=arguments;if(t=U({},t),arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===t[r]&&(t[r]=e.defaultProps[r]);return l=t.key,null!=(i=t.ref)&&delete t.ref,null!=l&&delete t.key,E(e,t,l,i)}function E(e,t,n,o){var r={type:e,props:t,key:n,ref:o,__k:null,__p:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return g.vnode&&g.vnode(r),r}function C(e){return e.children}function P(e,t){this.props=e,this.context=t}function D(e,t){if(null==t)return e.__p?D(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?D(e):null}function j(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return j(e)}}function I(e){(!e.__d&&(e.__d=!0)&&1===y.push(e)||b!==g.debounceRendering)&&(b=g.debounceRendering,(g.debounceRendering||w)(L))}function L(){var e,t,n,o,r,i,l;for(y.sort(function(e,t){return t.__v.__b-e.__v.__b});e=y.pop();)e.__d&&(n=void 0,o=void 0,i=(r=(t=e).__v).__e,(l=t.__P)&&(n=[],o=z(l,r,U({},r),t.__n,void 0!==l.ownerSVGElement,null,n,null==i?D(r):i),V(n,r),o!=i&&j(r)))}function T(e,t,n,o,r,i,l,a,u){var d,s,c,p,m,f,h,v=n&&n.__k||x,_=v.length;if(a==M&&(a=null!=i?i[0]:_?D(n,0):null),d=0,t.__k=A(t.__k,function(n){if(null!=n){if(n.__p=t,n.__b=t.__b+1,null===(c=v[d])||c&&n.key==c.key&&n.type===c.type)v[d]=void 0;else for(s=0;s<_;s++){if((c=v[s])&&n.key==c.key&&n.type===c.type){v[s]=void 0;break}c=null}if(p=z(e,n,c=c||M,o,r,i,l,a,u),(s=n.ref)&&c.ref!=s&&(h||(h=[])).push(s,n.__c||p,n),null!=p){if(null==f&&(f=p),null!=n.__d)p=n.__d,n.__d=null;else if(i==c||p!=a||null==p.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(p);else{for(m=a,s=0;(m=m.nextSibling)&&s<_;s+=2)if(m==p)break e;e.insertBefore(p,a)}"option"==t.type&&(e.value="")}a=p.nextSibling,"function"==typeof t.type&&(t.__d=p)}}return d++,n}),t.__e=f,null!=i&&"function"!=typeof t.type)for(d=i.length;d--;)null!=i[d]&&O(i[d]);for(d=_;d--;)null!=v[d]&&q(v[d],v[d]);if(h)for(d=0;d<h.length;d++)B(h[d],h[++d],h[++d])}function A(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)A(e[o],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?E(null,e,null,null):null!=e.__e||null!=e.__c?E(e.type,e.props,e.key,null):e):e);return n}function R(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===N.test(t)?n+"px":null==n?"":n}function F(e,t,n,o,r){var i,l,a,u,d;if("key"===(t=r?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(l in o)n&&l in n||R(i,l,"");if(n)for(a in n)o&&n[a]===o[a]||R(i,a,n[a])}else"o"===t[0]&&"n"===t[1]?(u=t!==(t=t.replace(/Capture$/,"")),d=t.toLowerCase(),t=(d in e?d:t).slice(2),n?(o||e.addEventListener(t,W,u),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,W,u)):"list"!==t&&"tagName"!==t&&"form"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function W(e){this.l[e.type](g.event?g.event(e):e)}function z(e,t,n,o,r,i,l,a,u){var d,s,c,p,m,f,h,v,_,y,w=t.type;if(void 0!==t.constructor)return null;(d=g.__b)&&d(t);try{e:if("function"==typeof w){if(v=t.props,_=(d=w.contextType)&&o[d.__c],y=d?_?_.props.value:d.__p:o,n.__c?h=(s=t.__c=n.__c).__p=s.__E:("prototype"in w&&w.prototype.render?t.__c=s=new w(v,y):(t.__c=s=new P(v,y),s.constructor=w,s.render=$),_&&_.sub(s),s.props=v,s.state||(s.state={}),s.context=y,s.__n=o,c=s.__d=!0,s.__h=[]),null==s.__s&&(s.__s=s.state),null!=w.getDerivedStateFromProps&&U(s.__s==s.state?s.__s=U({},s.__s):s.__s,w.getDerivedStateFromProps(v,s.__s)),p=s.props,m=s.state,c)null==w.getDerivedStateFromProps&&null!=s.componentWillMount&&s.componentWillMount(),null!=s.componentDidMount&&s.__h.push(s.componentDidMount);else{if(null==w.getDerivedStateFromProps&&null==s.__e&&null!=s.componentWillReceiveProps&&s.componentWillReceiveProps(v,y),!s.__e&&null!=s.shouldComponentUpdate&&!1===s.shouldComponentUpdate(v,s.__s,y)){for(s.props=v,s.state=s.__s,s.__d=!1,s.__v=t,t.__e=n.__e,t.__k=n.__k,d=0;d<t.__k.length;d++)t.__k[d]&&(t.__k[d].__p=t);break e}null!=s.componentWillUpdate&&s.componentWillUpdate(v,s.__s,y),null!=s.componentDidUpdate&&s.__h.push(function(){s.componentDidUpdate(p,m,f)})}s.context=y,s.props=v,s.state=s.__s,(d=g.__r)&&d(t),s.__d=!1,s.__v=t,s.__P=e,d=s.render(s.props,s.state,s.context),t.__k=A(null!=d&&d.type==C&&null==d.key?d.props.children:d),null!=s.getChildContext&&(o=U(U({},o),s.getChildContext())),c||null==s.getSnapshotBeforeUpdate||(f=s.getSnapshotBeforeUpdate(p,m)),T(e,t,n,o,r,i,l,a,u),s.base=t.__e,s.__h.length&&l.push(s),h&&(s.__E=s.__p=null),s.__e=null}else t.__e=H(n.__e,t,n,o,r,i,l,u);(d=g.diffed)&&d(t)}catch(e){g.__e(e,t,n)}return t.__e}function V(e,t){g.__c&&g.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){g.__e(e,t.__v)}})}function H(e,t,n,o,r,i,l,a){var u,d,s,c,p,m=n.props,f=t.props;if(r="svg"===t.type||r,null==e&&null!=i)for(u=0;u<i.length;u++)if(null!=(d=i[u])&&(null===t.type?3===d.nodeType:d.localName===t.type)){e=d,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),i=null}if(null===t.type)null!=i&&(i[i.indexOf(e)]=null),m!==f&&(e.data=f);else if(t!==n){if(null!=i&&(i=x.slice.call(e.childNodes)),s=(m=n.props||M).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!a){if(m===M)for(m={},p=0;p<e.attributes.length;p++)m[e.attributes[p].name]=e.attributes[p].value;(c||s)&&(c&&s&&c.__html==s.__html||(e.innerHTML=c&&c.__html||""))}(function(e,t,n,o,r){var i;for(i in n)i in t||F(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"value"===i||"checked"===i||n[i]===t[i]||F(e,i,t[i],n[i],o)})(e,f,m,r,a),t.__k=t.props.children,c||T(e,t,n,o,"foreignObject"!==t.type&&r,i,l,M,a),a||("value"in f&&void 0!==f.value&&f.value!==e.value&&(e.value=null==f.value?"":f.value),"checked"in f&&void 0!==f.checked&&f.checked!==e.checked&&(e.checked=f.checked))}return e}function B(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){g.__e(e,n)}}function q(e,t,n){var o,r,i;if(g.unmount&&g.unmount(e),(o=e.ref)&&B(o,null,t),n||"function"==typeof e.type||(n=null!=(r=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){g.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&q(o[i],t,n);null!=r&&O(r)}function $(e,t,n){return this.constructor(e,n)}function G(e,t,n){var o,r,i;g.__p&&g.__p(e,t),r=(o=n===k)?null:n&&n.__k||t.__k,e=S(C,null,[e]),i=[],z(t,(o?t:n||t).__k=e,r||M,M,void 0!==t.ownerSVGElement,n&&!o?[n]:r?null:x.slice.call(t.childNodes),i,n||M,o),V(i,e)}g={},P.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=U({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&U(n,e),null!=e&&this.__v&&(this.__e=!1,t&&this.__h.push(t),I(this))},P.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),I(this))},P.prototype.render=C,y=[],w="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b=g.debounceRendering,g.__e=function(e,t,n){for(var o;t=t.__p;)if((o=t.__c)&&!o.__p)try{if(o.constructor&&null!=o.constructor.getDerivedStateFromError)o.setState(o.constructor.getDerivedStateFromError(e));else{if(null==o.componentDidCatch)continue;o.componentDidCatch(e)}return I(o.__E=o)}catch(t){e=t}throw e},k=M;var J=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(v(n=_(this,(e=p(t)).call.apply(e,[this].concat(r)))),"getInitialOverrideUrl",function(){var e=new RegExp("//localhost:([0-9]+)/").exec(n.props.module.overrideUrl);return e&&n.props.module.overrideUrl===window.importMapOverrides.getUrlFromPort(n.props.module.moduleName,e[1])?e[1]:n.props.module.overrideUrl?n.props.module.overrideUrl:""}),s(v(n),"state",{overrideUrl:n.getInitialOverrideUrl(),moduleName:""}),s(v(n),"inputEl",null),s(v(n),"moduleNameEl",null),s(v(n),"handleInputRef",function(e){n.inputEl=e}),s(v(n),"handleModuleNameRef",function(e){n.moduleNameEl=e}),s(v(n),"dialogRef",function(e){n.dialogEl=e}),s(v(n),"handleSubmit",function(e){e.preventDefault(),n.props.module.isNew?n.props.addNewModule(n.state.moduleName,n.state.overrideUrl):n.props.updateModuleUrl(n.state.overrideUrl)}),s(v(n),"getDerivedUrl",function(){var e=n.props.module.isNew?n.state.moduleName:n.props.module.moduleName;return K.test(n.state.overrideUrl)?window.importMapOverrides.getUrlFromPort(e,n.state.overrideUrl):n.state.overrideUrl}),s(v(n),"keyDown",function(e){"Escape"===e.key&&(e.stopPropagation(),n.props.cancel())}),s(v(n),"focusFirstInput",function(){(n.moduleNameEl||n.inputEl).select()}),s(v(n),"clearModuleName",function(){n.setState({moduleName:""},function(){n.focusFirstInput()})}),s(v(n),"clearInput",function(){n.setState({overrideUrl:""},function(){n.focusFirstInput()})}),n}return c(t,P),d(t,[{key:"componentDidMount",value:function(){this.focusFirstInput(),this.dialogEl.addEventListener("keydown",this.keyDown)}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.module!==e.module&&this.setState({overrideUrl:this.props.module.overrideUrl||""},function(){n.focusFirstInput()})}},{key:"componentWillUnmount",value:function(){this.dialogEl.removeEventListener("keydown",this.keyDown)}},{key:"render",value:function(e){var t=this,n=e.module;return S("div",{className:"imo-modal-container"},S("div",{className:"imo-modal"}),S("dialog",{className:"imo-module-dialog ".concat(this.state.overrideUrl.length>0?"imo-overridden":"imo-default"),open:!0,ref:this.dialogRef},S("form",{method:"dialog",onSubmit:this.handleSubmit},S("h3",{style:{marginTop:0}},n.moduleName),S("table",null,S("tbody",null,!n.isNew&&S("tr",null,S("td",null,"Default URL:"),S("td",null,n.defaultUrl)),n.isNew&&S("tr",null,S("td",null,S("span",{id:"module-name-label"},"Module Name:")),S("td",{style:{position:"relative"}},S("input",{type:"text",value:this.state.moduleName,"aria-labelledby":"module-name-label",onInput:function(e){return t.setState({moduleName:e.target.value})},ref:this.handleModuleNameRef,required:!0}),S("div",{role:"button",tabIndex:0,className:"imo-clear-input",onClick:this.clearModuleName},S("div",null,"ⓧ")))),S("tr",null,S("td",null,S("span",{id:"override-url-label"},"Override URL:")),S("td",{style:{position:"relative"}},S("input",{ref:this.handleInputRef,type:"text",value:this.state.overrideUrl,"aria-labelledby":"override-url-label",onInput:function(e){return t.setState({overrideUrl:e.target.value})}}),S("div",{role:"button",tabIndex:0,className:"imo-clear-input",onClick:this.clearInput},S("div",null,"ⓧ")))),K.test(this.state.overrideUrl)&&S("tr",null,S("td",null,"Derived url:"),S("td",null,this.getDerivedUrl())))),S("div",{className:"imo-dialog-actions"},S("button",{type:"button",onClick:this.props.cancel,style:{marginRight:"16px"}},"Cancel"),S("button",{type:"submit",className:this.state.overrideUrl?"imo-overridden":"imo-default"},this.state.overrideUrl?"Apply override":"Reset to default")))))}}]),t}(),K=/^\d+$/,Q=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(v(n=_(this,(e=p(t)).call.apply(e,[this].concat(r)))),"state",{notOverriddenMap:{imports:{}},dialogModule:null,searchVal:""}),s(v(n),"cancel",function(){n.setState({dialogModule:null})}),s(v(n),"updateModuleUrl",function(e){null===(e=e||null)?window.importMapOverrides.removeOverride(n.state.dialogModule.moduleName):window.importMapOverrides.addOverride(n.state.dialogModule.moduleName,e),n.setState({dialogModule:null})}),s(v(n),"doUpdate",function(){return n.forceUpdate()}),s(v(n),"addNewModule",function(e,t){e&&t&&window.importMapOverrides.addOverride(e,t),n.setState({dialogModule:null})}),s(v(n),"filterModuleNames",function(e){return!(n.state.searchVal.trim().length>0)||e.includes(n.state.searchVal)}),n}return c(t,P),d(t,[{key:"componentDidMount",value:function(){var e=this;Array.prototype.reduce.call(document.querySelectorAll('script[type="'.concat(r,'"]')),function(e,t){return"import-map-overrides"===t.id?e:(n=t.src?fetch(t.src).then(function(e){return e.json()}):Promise.resolve(JSON.parse(t.textContent)),Promise.all([e,n]).then(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(o=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2);return function(e,t){for(var n in t.imports)e.imports[n]=t.imports[n];for(var o in t.scopes)e.scopes[o]=t.scopes[o];return e}(t[0],t[1])}));var n},Promise.resolve(this.state.notOverriddenMap)).then(function(t){e.setState({notOverriddenMap:t})}),window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentDidUpdate",value:function(e,t){!t.dialogModule&&this.state.dialogModule?(this.dialogContainer=document.createElement("div"),document.body.appendChild(this.dialogContainer),G(S(J,{module:this.state.dialogModule,cancel:this.cancel,updateModuleUrl:this.updateModuleUrl,addNewModule:this.addNewModule}),this.dialogContainer)):t.dialogModule&&!this.state.dialogModule&&(G(null,this.dialogContainer),this.dialogContainer.remove(),delete this.dialogContainer)}},{key:"render",value:function(){var e=this,t=[],n=[],o=window.importMapOverrides.getOverrideMap().imports;return Object.keys(this.state.notOverriddenMap.imports).filter(this.filterModuleNames).forEach(function(r){var i={moduleName:r,defaultUrl:e.state.notOverriddenMap.imports[r],overrideUrl:o[r]};o[r]?t.push(i):n.push(i)}),Object.keys(o).filter(this.filterModuleNames).forEach(function(e){t.some(function(t){return t.moduleName===e})||t.push({moduleName:e,defaultUrl:null,overrideUrl:o[e]})}),t.sort(X),n.sort(X),S("div",{className:"imo-list-container"},S("div",null,S("input",{className:"imo-list-search","aria-label":"Search modules",placeholder:"Search modules",value:this.state.searchVal,onInput:function(t){return e.setState({searchVal:t.target.value})},autoFocus:!0})),S("div",null,S("h3",null,"Overridden Modules"),S("div",{className:"imo-list"},0===t.length&&S("div",null,"(No overridden modules)"),t.map(function(t){return S("div",null,S("button",{className:"imo-overridden",onClick:function(){return e.setState({dialogModule:t})}},t.moduleName))}))),S("div",{className:"imo-add-new"},S("button",{onClick:function(){return e.setState({dialogModule:{moduleName:"New module",isNew:!0}})}},"Add new module")),S("div",null,S("h3",null,"Default Modules"),S("div",{className:"imo-list"},0===n.length&&S("div",null,"(No default modules)"),n.map(function(t){return S("div",null,S("button",{className:"imo-default",onClick:function(){return e.setState({dialogModule:t})}},t.moduleName))}))))}}]),t}();function X(e,t){return e.moduleName>t.moduleName}var Y=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(v(n=_(this,(e=p(t)).call.apply(e,[this].concat(r)))),"doUpdate",function(){return n.forceUpdate()}),s(v(n),"keydownListener",function(e){"Escape"===e.key&&n.props.close&&n.props.close()}),n}return c(t,P),d(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownListener),window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydownListener),window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"render",value:function(e){return S("div",{className:"imo-popup"},S("div",{className:"imo-header"},S("div",null,S("h1",null,"Import Map Overrides"),S("p",null,"This developer tool allows you to view and override your import maps."," ",S("a",{target:"_blank",href:"https://github.com/joeldenning/import-map-overrides"},"See documentation for more info"),".")),S("button",{className:"imo-unstyled",onClick:e.close},"ⓧ")),S(Q,{importMapChanged:this.props.importMapChanged}))}}]),t}(),Z=function(e){function t(){var e,n;a(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return s(v(n=_(this,(e=p(t)).call.apply(e,[this].concat(r)))),"state",{showingPopup:!1}),s(v(n),"doUpdate",function(){return n.forceUpdate()}),s(v(n),"toggleTrigger",function(){n.setState(function(e){return{showingPopup:!e.showingPopup}})}),s(v(n),"importMapChanged",function(){n.forceUpdate()}),n}return c(t,P),d(t,[{key:"componentDidMount",value:function(){window.addEventListener("import-map-overrides:change",this.doUpdate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("import-map-overrides:change",this.doUpdate)}},{key:"render",value:function(e,t){if(e.customElement.hasAttribute("show-when-local-storage")&&"true"!==localStorage.getItem(e.customElement.getAttribute("show-when-local-storage")))return null;var n=Object.keys(window.importMapOverrides.getOverrideMap().imports).length>0;return S("div",null,S("button",{onClick:this.toggleTrigger,className:"imo-unstyled imo-trigger ".concat(n?"imo-overridden":"")},"{···}"),t.showingPopup&&S(Y,{close:this.toggleTrigger,importMapChanged:this.importMapChanged}))}}]),t}();function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){function o(){return a(this,o),_(this,p(o).apply(this,arguments))}return c(o,h(HTMLElement)),d(o,[{key:"connectedCallback",value:function(){this.renderWithPreact()}},{key:"disconnectedCallback",value:function(){G(null,this),this.renderedEl=null}},{key:"attributeChangedCallback",value:function(){this.renderWithPreact()}},{key:"renderWithPreact",value:function(){this.renderedEl=G(S(e,{customElement:this}),this,this.renderedEl)}}],[{key:"observedAttributes",get:function(){return t}}]),o}()}window.customElements&&(window.customElements.define("import-map-overrides-full",ee(Z,["show-when-local-storage"])),window.customElements.define("import-map-overrides-popup",ee(Y)),window.customElements.define("import-map-overrides-list",ee(Q)))}();
//# sourceMappingURL=import-map-overrides.js.map
