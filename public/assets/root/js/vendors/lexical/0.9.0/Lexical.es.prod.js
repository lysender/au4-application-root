function b(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var N={};b(N,"$addUpdateTag",function(){return Pt},function(t){return Pt=t});b(N,"$applyNodeReplacement",function(){return It},function(t){return It=t});b(N,"$copyNode",function(){return kt},function(t){return kt=t});b(N,"$createLineBreakNode",function(){return Lt},function(t){return Lt=t});b(N,"$createNodeSelection",function(){return Ft},function(t){return Ft=t});b(N,"$createParagraphNode",function(){return Kt},function(t){return Kt=t});b(N,"$createRangeSelection",function(){return Bt},function(t){return Bt=t});b(N,"$createTextNode",function(){return Wt},function(t){return Wt=t});b(N,"$getAdjacentNode",function(){return zt},function(t){return zt=t});b(N,"$getNearestNodeFromDOMNode",function(){return Ut},function(t){return Ut=t});b(N,"$getNearestRootOrShadowRoot",function(){return Yt},function(t){return Yt=t});b(N,"$getNodeByKey",function(){return Gt},function(t){return Gt=t});b(N,"$getPreviousSelection",function(){return Ht},function(t){return Ht=t});b(N,"$getRoot",function(){return Vt},function(t){return Vt=t});b(N,"$getSelection",function(){return Jt},function(t){return Jt=t});b(N,"$getTextContent",function(){return jt},function(t){return jt=t});b(N,"$hasAncestor",function(){return Xt},function(t){return Xt=t});b(N,"$insertNodes",function(){return qt},function(t){return qt=t});b(N,"$isDecoratorNode",function(){return Qt},function(t){return Qt=t});b(N,"$isElementNode",function(){return Zt},function(t){return Zt=t});b(N,"$isInlineElementOrDecoratorNode",function(){return en},function(t){return en=t});b(N,"$isLeafNode",function(){return tn},function(t){return tn=t});b(N,"$isLineBreakNode",function(){return nn},function(t){return nn=t});b(N,"$isNodeSelection",function(){return rn},function(t){return rn=t});b(N,"$isParagraphNode",function(){return on},function(t){return on=t});b(N,"$isRangeSelection",function(){return sn},function(t){return sn=t});b(N,"$isRootNode",function(){return cn},function(t){return cn=t});b(N,"$isRootOrShadowRoot",function(){return an},function(t){return an=t});b(N,"$isTextNode",function(){return ln},function(t){return ln=t});b(N,"$nodesOfType",function(){return fn},function(t){return fn=t});b(N,"$normalizeSelection__EXPERIMENTAL",function(){return dn},function(t){return dn=t});b(N,"$parseSerializedNode",function(){return un},function(t){return un=t});b(N,"$setCompositionKey",function(){return $n},function(t){return $n=t});b(N,"$setSelection",function(){return hn},function(t){return hn=t});b(N,"$splitNode",function(){return _n},function(t){return _n=t});b(N,"BLUR_COMMAND",function(){return gn},function(t){return gn=t});b(N,"CAN_REDO_COMMAND",function(){return pn},function(t){return pn=t});b(N,"CAN_UNDO_COMMAND",function(){return bn},function(t){return bn=t});b(N,"CLEAR_EDITOR_COMMAND",function(){return Nn},function(t){return Nn=t});b(N,"CLEAR_HISTORY_COMMAND",function(){return vn},function(t){return vn=t});b(N,"CLICK_COMMAND",function(){return yn},function(t){return yn=t});b(N,"COMMAND_PRIORITY_CRITICAL",function(){return mn},function(t){return mn=t});b(N,"COMMAND_PRIORITY_EDITOR",function(){return En},function(t){return En=t});b(N,"COMMAND_PRIORITY_HIGH",function(){return xn},function(t){return xn=t});b(N,"COMMAND_PRIORITY_LOW",function(){return Cn},function(t){return Cn=t});b(N,"COMMAND_PRIORITY_NORMAL",function(){return Tn},function(t){return Tn=t});b(N,"CONTROLLED_TEXT_INSERTION_COMMAND",function(){return On},function(t){return On=t});b(N,"COPY_COMMAND",function(){return Sn},function(t){return Sn=t});b(N,"CUT_COMMAND",function(){return Mn},function(t){return Mn=t});b(N,"DELETE_CHARACTER_COMMAND",function(){return Dn},function(t){return Dn=t});b(N,"DELETE_LINE_COMMAND",function(){return An},function(t){return An=t});b(N,"DELETE_WORD_COMMAND",function(){return wn},function(t){return wn=t});b(N,"DEPRECATED_$createGridSelection",function(){return Rn},function(t){return Rn=t});b(N,"DEPRECATED_$isGridCellNode",function(){return Pn},function(t){return Pn=t});b(N,"DEPRECATED_$isGridNode",function(){return In},function(t){return In=t});b(N,"DEPRECATED_$isGridRowNode",function(){return kn},function(t){return kn=t});b(N,"DEPRECATED_$isGridSelection",function(){return Ln},function(t){return Ln=t});b(N,"DEPRECATED_GridCellNode",function(){return Fn},function(t){return Fn=t});b(N,"DEPRECATED_GridNode",function(){return Kn},function(t){return Kn=t});b(N,"DEPRECATED_GridRowNode",function(){return Bn},function(t){return Bn=t});b(N,"DRAGEND_COMMAND",function(){return Wn},function(t){return Wn=t});b(N,"DRAGOVER_COMMAND",function(){return zn},function(t){return zn=t});b(N,"DRAGSTART_COMMAND",function(){return Un},function(t){return Un=t});b(N,"DROP_COMMAND",function(){return Yn},function(t){return Yn=t});b(N,"DecoratorNode",function(){return Gn},function(t){return Gn=t});b(N,"ElementNode",function(){return Hn},function(t){return Hn=t});b(N,"FOCUS_COMMAND",function(){return Vn},function(t){return Vn=t});b(N,"FORMAT_ELEMENT_COMMAND",function(){return Jn},function(t){return Jn=t});b(N,"FORMAT_TEXT_COMMAND",function(){return jn},function(t){return jn=t});b(N,"INDENT_CONTENT_COMMAND",function(){return Xn},function(t){return Xn=t});b(N,"INSERT_LINE_BREAK_COMMAND",function(){return qn},function(t){return qn=t});b(N,"INSERT_PARAGRAPH_COMMAND",function(){return Qn},function(t){return Qn=t});b(N,"KEY_ARROW_DOWN_COMMAND",function(){return Zn},function(t){return Zn=t});b(N,"KEY_ARROW_LEFT_COMMAND",function(){return er},function(t){return er=t});b(N,"KEY_ARROW_RIGHT_COMMAND",function(){return tr},function(t){return tr=t});b(N,"KEY_ARROW_UP_COMMAND",function(){return nr},function(t){return nr=t});b(N,"KEY_BACKSPACE_COMMAND",function(){return rr},function(t){return rr=t});b(N,"KEY_DELETE_COMMAND",function(){return or},function(t){return or=t});b(N,"KEY_DOWN_COMMAND",function(){return sr},function(t){return sr=t});b(N,"KEY_ENTER_COMMAND",function(){return ir},function(t){return ir=t});b(N,"KEY_ESCAPE_COMMAND",function(){return cr},function(t){return cr=t});b(N,"KEY_MODIFIER_COMMAND",function(){return ar},function(t){return ar=t});b(N,"KEY_SPACE_COMMAND",function(){return lr},function(t){return lr=t});b(N,"KEY_TAB_COMMAND",function(){return fr},function(t){return fr=t});b(N,"LineBreakNode",function(){return dr},function(t){return dr=t});b(N,"MOVE_TO_END",function(){return ur},function(t){return ur=t});b(N,"MOVE_TO_START",function(){return $r},function(t){return $r=t});b(N,"OUTDENT_CONTENT_COMMAND",function(){return hr},function(t){return hr=t});b(N,"PASTE_COMMAND",function(){return _r},function(t){return _r=t});b(N,"ParagraphNode",function(){return gr},function(t){return gr=t});b(N,"REDO_COMMAND",function(){return pr},function(t){return pr=t});b(N,"REMOVE_TEXT_COMMAND",function(){return br},function(t){return br=t});b(N,"RootNode",function(){return Nr},function(t){return Nr=t});b(N,"SELECTION_CHANGE_COMMAND",function(){return vr},function(t){return vr=t});b(N,"TextNode",function(){return yr},function(t){return yr=t});b(N,"UNDO_COMMAND",function(){return mr},function(t){return mr=t});b(N,"createCommand",function(){return Er},function(t){return Er=t});b(N,"createEditor",function(){return xr},function(t){return xr=t});b(N,"isSelectionWithinEditor",function(){return Cr},function(t){return Cr=t});var Pt,It,kt,Lt,Ft,Kt,Bt,Wt,zt,Ut,Yt,Gt,Ht,Vt,Jt,jt,Xt,qt,Qt,Zt,en,tn,nn,rn,on,sn,cn,an,ln,fn,dn,un,$n,hn,_n,gn,pn,bn,Nn,vn,yn,mn,En,xn,Cn,Tn,On,Sn,Mn,Dn,An,wn,Rn,Pn,In,kn,Ln,Fn,Kn,Bn,Wn,zn,Un,Yn,Gn,Hn,Vn,Jn,jn,Xn,qn,Qn,Zn,er,tr,nr,rr,or,sr,ir,cr,ar,lr,fr,dr,ur,$r,hr,_r,gr,pr,br,Nr,vr,yr,mr,Er,xr,Cr;function D(t){return{type:t}}const Tr=D("SELECTION_CHANGE_COMMAND"),Io=D("CLICK_COMMAND"),Fe=D("DELETE_CHARACTER_COMMAND"),Ke=D("INSERT_LINE_BREAK_COMMAND"),Or=D("INSERT_PARAGRAPH_COMMAND"),Te=D("CONTROLLED_TEXT_INSERTION_COMMAND"),Sr=D("PASTE_COMMAND"),Mr=D("REMOVE_TEXT_COMMAND"),Be=D("DELETE_WORD_COMMAND"),We=D("DELETE_LINE_COMMAND"),le=D("FORMAT_TEXT_COMMAND"),Dr=D("UNDO_COMMAND"),Ar=D("REDO_COMMAND"),ko=D("KEYDOWN_COMMAND"),Lo=D("KEY_ARROW_RIGHT_COMMAND"),Fo=D("MOVE_TO_END"),Ko=D("KEY_ARROW_LEFT_COMMAND"),Bo=D("MOVE_TO_START"),Wo=D("KEY_ARROW_UP_COMMAND"),zo=D("KEY_ARROW_DOWN_COMMAND"),st=D("KEY_ENTER_COMMAND"),Uo=D("KEY_SPACE_COMMAND"),Yo=D("KEY_BACKSPACE_COMMAND"),Go=D("KEY_ESCAPE_COMMAND"),Ho=D("KEY_DELETE_COMMAND"),Vo=D("KEY_TAB_COMMAND"),Ii=D("INDENT_CONTENT_COMMAND"),ki=D("OUTDENT_CONTENT_COMMAND"),Jo=D("DROP_COMMAND"),Li=D("FORMAT_ELEMENT_COMMAND"),jo=D("DRAGSTART_COMMAND"),Xo=D("DRAGOVER_COMMAND"),qo=D("DRAGEND_COMMAND"),wr=D("COPY_COMMAND"),Rr=D("CUT_COMMAND"),Fi=D("CLEAR_EDITOR_COMMAND"),Ki=D("CLEAR_HISTORY_COMMAND"),Bi=D("CAN_REDO_COMMAND"),Wi=D("CAN_UNDO_COMMAND"),Qo=D("FOCUS_COMMAND"),Zo=D("BLUR_COMMAND"),es=D("KEY_MODIFIER_COMMAND"),oe=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",zi=oe&&"documentMode"in document?document.documentMode:null,Q=oe&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ge=oe&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),it=oe&&"InputEvent"in window&&!zi?"getTargetRanges"in new window.InputEvent("input"):!1,Pr=oe&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ir=oe&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ui=oe&&/^(?=.*Chrome).*/i.test(navigator.userAgent),kr=oe&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Ui,ts=1,ze=3,pe=0,ns=1,Oe=2,rs=0,Lr=1,Fr=2,Kr=1,Br=2,ct=4,at=8,Wr=16,zr=32,Ur=64,Yr=128,Yi=Kr|Br|ct|at|Wr|zr|Ur|Yr,Gr=1,Hr=2,Vr=1,Jr=2,jr=3,Xr=4,qr=5,Qr=6,os="\xA0",Gi="\u200B",lt=Pr||Ir||kr?os:Gi,se=`

`,Hi=ge?os:lt,ss="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",is="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Vi=new RegExp("^[^"+is+"]*["+ss+"]"),Ji=new RegExp("^[^"+ss+"]*["+is+"]"),be={bold:Kr,code:Wr,highlight:Yr,italic:Br,strikethrough:ct,subscript:zr,superscript:Ur,underline:at},ji={directionless:Gr,unmergeable:Hr},cs={center:Jr,end:Qr,justify:Xr,left:Vr,right:jr,start:qr},Xi={[Jr]:"center",[Qr]:"end",[Xr]:"justify",[Vr]:"left",[jr]:"right",[qr]:"start"},qi={normal:rs,segmented:Fr,token:Lr},Qi={[rs]:"normal",[Fr]:"segmented",[Lr]:"token"},Zi=100;let Zr=!1,eo=0;function ec(){return Zr}function tc(t){eo=t.timeStamp}function nc(t){eo===0&&pt(t).addEventListener("textInput",tc,!0)}function to(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function rc(t){return t.getEditorState().read(()=>{const e=R();return e!==null?e.clone():null})}function oc(t,e,n){const r=ee(n._window);let o=null,s=null;r!==null&&r.anchorNode===t&&(o=r.anchorOffset,s=r.focusOffset);const i=t.nodeValue;i!==null&&so(e,i,o,s,!1)}function sc(t,e,n){if(M(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return e.nodeType===ze&&n.isAttached()}function as(t,e,n){Zr=!0;const r=performance.now()-eo>Zi;try{X(t,()=>{const o=R()||rc(t),s=new Map,i=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;let l=!1,f="";for(let u=0;u<e.length;u++){const d=e[u],_=d.type,h=d.target;let g=Ye(h,c);if(!(g===null&&h!==i||P(g))){if(_==="characterData")r&&x(g)&&sc(o,h,g)&&oc(h,g,t);else if(_==="childList"){l=!0;const m=d.addedNodes;for(let O=0;O<m.length;O++){const C=m[O],T=gs(C),S=C.parentNode;if(S!=null&&C!==a&&T===null&&(C.nodeName!=="BR"||!to(C,S,t))){if(ge){const A=C.innerText||C.nodeValue;A&&(f+=A)}S.removeChild(C)}}const p=d.removedNodes,v=p.length;if(v>0){let O=0;for(let C=0;C<v;C++){const T=p[C];(T.nodeName==="BR"&&to(T,h,t)||a===T)&&(h.appendChild(T),O++)}v!==O&&(h===i&&(g=Ns(c)),s.set(h,g))}}}}if(s.size>0)for(const[u,d]of s)if(y(d)){const _=d.getChildrenKeys();let h=u.firstChild;for(let g=0;g<_.length;g++){const m=_[g],p=t.getElementByKey(m);p!==null&&(h==null?(u.appendChild(p),h=p):h!==p&&u.replaceChild(p,h),h=h.nextSibling)}}else x(d)&&d.markDirty();const $=n.takeRecords();if($.length>0){for(let u=0;u<$.length;u++){const d=$[u],_=d.addedNodes,h=d.target;for(let g=0;g<_.length;g++){const m=_[g],p=m.parentNode;p!=null&&m.nodeName==="BR"&&!to(m,h,t)&&p.removeChild(m)}}n.takeRecords()}o!==null&&(l&&(o.dirty=!0,de(o)),ge&&Ss(t)&&o.insertRawText(f))})}finally{Zr=!1}}function ls(t){const e=t._observer;if(e!==null){const n=e.takeRecords();as(t,n,e)}}function fs(t){nc(t),t._observer=new MutationObserver((e,n)=>{as(t,e,n)})}let ic=1;function cc(){return""+ic++}function ac(t,e){const n=t._nodes.get(e);if(n===void 0)throw Error(`registeredNode: Type ${e} not found`);return n}const lc=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function fc(t){return P(Ye(t))}function ds(t){const e=document.activeElement;if(e===null)return!1;const n=e.nodeName;return P(Ye(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Ue(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!ds(e)&&us(e)===t}catch{return!1}}function us(t){let e=t;for(;e!=null;){const n=e.__lexicalEditor;if(n!=null)return n;e=_t(e)}return null}function dc(t){return Vi.test(t)?"rtl":Ji.test(t)?"ltr":null}function no(t){return t.isToken()||t.isSegmented()}function uc(t){return t.nodeType===ze}function ft(t){let e=t;for(;e!=null;){if(uc(e))return e;e=e.firstChild}return null}function $s(t,e,n){const r=be[e];return t&r&&(n===null||(n&r)==0)?t^r:n===null||n&r?t|r:t}function hs(t){return x(t)||ot(t)||P(t)}function _s(t,e){if(e!=null){t.__key=e;return}Y(),pi();const n=I(),r=ne(),o=cc();r._nodeMap.set(o,t),y(t)?n._dirtyElements.set(o,!0):n._dirtyLeaves.add(o),n._cloneNotNeeded.add(o),n._dirtyType=ns,t.__key=o}function $c(t,e,n){let r=t;for(;r!==null;){if(n.has(r))return;const o=e.get(r);if(o===void 0)break;n.set(r,!1),r=o.__parent}}function Ne(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),o=t.getPreviousSibling(),s=t.getNextSibling();if(o===null)if(s!==null){const i=s.getWritable();r.__first=s.__key,i.__prev=null}else r.__first=null;else{const i=o.getWritable();if(s!==null){const c=s.getWritable();c.__prev=i.__key,i.__next=c.__key}else i.__next=null;n.__prev=null}if(s===null)if(o!==null){const i=o.getWritable();r.__last=o.__key,i.__next=null}else r.__last=null;else{const i=s.getWritable();if(o!==null){const c=o.getWritable();c.__next=i.__key,i.__prev=c.__key}else i.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function dt(t){pi();const e=t.getLatest(),n=e.__parent,r=ne(),o=I(),s=r._nodeMap,i=o._dirtyElements;n!==null&&$c(n,s,i);const c=e.__key;o._dirtyType=ns,y(t)?i.set(c,!0):o._dirtyLeaves.add(c)}function hc(t){const e=t.getPreviousSibling(),n=t.getNextSibling();e!==null&&dt(e),n!==null&&dt(n)}function W(t){Y();const e=I(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=F(n);r!==null&&r.getWritable()}if(t!==null){const r=F(t);r!==null&&r.getWritable()}}}function fe(){return Ae()?null:I()._compositionKey}function F(t,e){const r=(e||ne())._nodeMap.get(t);return r===void 0?null:r}function gs(t,e){const n=I(),r=t[`__lexicalKey_${n._key}`];return r!==void 0?F(r,e):null}function Ye(t,e){let n=t;for(;n!=null;){const r=gs(n,e);if(r!==null)return r;n=_t(n)}return null}function ps(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function bs(t){return t.read(()=>ie().getTextContent())}function _c(t,e){X(t,()=>{const n=ne();if(n.isEmpty())return;if(e==="root"){ie().markDirty();return}const r=n._nodeMap;for(const[,o]of r)o.markDirty()},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function ie(){return Ns(ne())}function Ns(t){return t._nodeMap.get("root")}function de(t){Y();const e=ne();if(t!==null){if(Object.isFrozen(t))throw Error("$setSelection called on frozen selection object. Ensure selection is cloned before passing in.");t.dirty=!0,t._cachedNodes=null}e._selection=t}function gc(){Y();const t=I();ls(t)}function Se(t){const e=I(),n=pc(t,e);if(n===null){const r=e.getRootElement();return t===r?F("root"):null}return F(n)}function vs(t,e){return e?t.getTextContentSize():0}function pc(t,e){let n=t;for(;n!=null;){const r=n[`__lexicalKey_${e._key}`];if(r!==void 0)return r;n=_t(n)}return null}function ys(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function ro(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function ms(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Es(t){return t.nodeType===ze?t.nodeValue:null}function oo(t,e,n){const r=ee(e._window);if(r===null)return;const o=r.anchorNode;let{anchorOffset:s,focusOffset:i}=r;if(o!==null){let c=Es(o);const a=Ye(o);if(c!==null&&x(a)){if(a.canContainTabs()){const l=c.includes("	");if(n&&n.length>0&&l){const f=n.length,$=s+f-1,u=c.slice(0,$),d=c.slice($,c.length);c=`${u}${n}${d}`,s+=f,i+=f}}if(c===lt&&n){const l=n.length;c=n,s=l,i=l}c!==null&&so(a,c,s,i,t)}}}function so(t,e,n,r,o){let s=t;if(s.isAttached()&&(o||!s.isDirty())){const i=s.isComposing();let c=e;(i||o)&&e[e.length-1]===lt&&(c=e.slice(0,-1));const a=s.getTextContent();if(o||c!==a){if(c===""){if(W(null),!Pr&&!Ir&&!kr){const _=I();setTimeout(()=>{_.update(()=>{s.isAttached()&&s.remove()})},20)}else s.remove();return}const l=s.getParent(),f=nt(),$=fe(),u=s.getKey();if(s.isToken()||$!==null&&u===$&&!i||l!==null&&M(f)&&!l.canInsertTextBefore()&&f.anchor.offset===0){s.markDirty();return}const d=R();if(!M(d)||n===null||r===null){s.setTextContent(c);return}if(d.setTextNodeRange(s,n,s,r),s.isSegmented()){const _=s.getTextContent(),h=z(_);s.replace(h),s=h}s.setTextContent(c)}}}function bc(t){const e=t.getPreviousSibling();return(x(e)||y(e)&&e.isInline())&&!e.canInsertTextAfter()}function Nc(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),o=e.isToken();return n===0?!e.canInsertTextBefore()||!r.canInsertTextBefore()||o||bc(e):n===e.getTextContentSize()?!e.canInsertTextAfter()||!r.canInsertTextAfter()||o:!1}function vc(t,e,n,r){return t===9&&!e&&!n&&!r}function yc(t,e,n,r){return t===66&&!e&&ut(n,r)}function mc(t,e,n,r){return t===73&&!e&&ut(n,r)}function Ec(t,e,n,r){return t===85&&!e&&ut(n,r)}function xc(t,e){return Ts(t)&&!e}function Cc(t,e){return Ts(t)&&e}function Tc(t,e){return Q&&e&&t===79}function Oc(t,e,n){return Ge(t)&&(Q?e:n)}function Sc(t,e,n){return He(t)&&(Q?e:n)}function Mc(t,e){return Q&&e&&Ge(t)}function Dc(t,e){return Q&&e&&He(t)}function Ac(t,e,n,r){return Q?e||n?!1:Ge(t)||t===72&&r:r||e||n?!1:Ge(t)}function wc(t,e,n,r,o){return Q?n||r||o?!1:He(t)||t===68&&e:e||r||o?!1:He(t)}function Rc(t,e,n,r){return t===90&&!e&&ut(n,r)}function Pc(t,e,n,r){return Q?t===90&&n&&e:t===89&&r||t===90&&r&&e}function Ic(t,e,n,r){return e?!1:t===67?Q?n:r:!1}function kc(t,e,n,r){return e?!1:t===88?Q?n:r:!1}function xs(t){return t===37}function Cs(t){return t===39}function Lc(t){return t===38}function Fc(t){return t===40}function Kc(t,e,n,r){return xs(t)&&!e&&!r&&!n}function Bc(t,e,n,r,o){return xs(t)&&!r&&!n&&(e||o)}function Wc(t,e,n,r){return Cs(t)&&!e&&!r&&!n}function zc(t,e,n,r,o){return Cs(t)&&!r&&!n&&(e||o)}function Uc(t,e,n){return Lc(t)&&!e&&!n}function Yc(t,e,n){return Fc(t)&&!e&&!n}function Gc(t,e,n,r){return t||e||n||r}function Hc(t){return t===32}function ut(t,e){return Q?t:e}function Ts(t){return t===13}function Ge(t){return t===8}function Vc(t){return t===27}function He(t){return t===46}function Ve(t,e){const n=t[e];if(typeof n=="string"){const r=n.split(" ");return t[e]=r,r}return n}function io(t,e,n,r,o){if(n.size===0)return;const s=r.__type,i=r.__key,c=e.get(s);if(c===void 0)throw Error(`Type ${s} not in registeredNodes`);const a=c.klass;let l=t.get(a);l===void 0&&(l=new Map,t.set(a,l));const f=l.get(i),$=f==="destroyed"&&o==="created";(f===void 0||$)&&l.set(i,$?"updated":o)}function Jc(t){const e=ne(),n=e._readOnly,r=t.getType(),o=e._nodeMap,s=[];for(const[,i]of o)i instanceof t&&i.__type===r&&(n||i.isAttached())&&s.push(i);return s}function Os(t,e,n){const r=t.getParent();let o=n,s=t;return r!==null&&(e&&n===0?(o=s.getIndexWithinParent(),s=r):!e&&n===s.getChildrenSize()&&(o=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(e?o-1:o)}function co(t,e){const n=t.offset;if(t.type==="element"){const r=t.getNode();return Os(r,e,n)}else{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const o=e?r.getPreviousSibling():r.getNextSibling();return o===null?Os(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):o}}return null}function Ss(t){const e=pt(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function E(t,e,n){return mi(t,e,n)}function $t(t){return!j(t)&&!t.isLastChild()&&!t.isInline()}function ht(t,e){const n=t._keyToDOMMap.get(e);if(n===void 0)throw Error(`Reconciliation: could not find DOM element for node key ${e}`);return n}function _t(t){const e=t.assignedSlot||t.parentElement;return e!==null&&e.nodeType===11?e.host:e}function jc(t,e,n){const r=n.ownerDocument,o=r.defaultView;if(o===null)return;let{top:s,bottom:i}=e,c=0,a=0,l=n;for(;l!==null;){const f=l===r.body;if(f)c=0,a=pt(t).innerHeight;else{const u=l.getBoundingClientRect();c=u.top,a=u.bottom}let $=0;if(s<c?$=-(c-s):i>a&&($=i-a),$!==0)if(f)o.scrollBy(0,$);else{const u=l.scrollTop;l.scrollTop+=$;const d=l.scrollTop-u;s-=d,i-=d}if(f)break;l=_t(l)}}function Xc(t){Y(),I()._updateTags.add(t)}function qc(t,e=0){if(e!==0)throw Error("TODO");const n=R();if(!M(n)||!y(t))return n;const{anchor:r,focus:o}=n,s=r.getNode(),i=o.getNode();return gt(s,t)&&r.set(t.__key,0,"element"),gt(i,t)&&o.set(t.__key,0,"element"),n}function gt(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function Qc(t){const e=t.ownerDocument;return e&&e.defaultView||null}function pt(t){const e=t._window;if(e===null)throw Error("window object not found");return e}function Zc(t){return y(t)&&t.isInline()||P(t)&&t.isInline()}function Ms(t){let e=t.getParentOrThrow();for(;e!==null;){if(Z(e))return e;e=e.getParentOrThrow()}return e}function Z(t){return j(t)||y(t)&&t.isShadowRoot()}function Ds(t){const e=t.constructor.clone(t);return _s(e,null),e}function bt(t){const e=I(),n=t.constructor.getType(),r=e._nodes.get(n);if(r===void 0)throw Error('$initializeNode failed. Ensure node has been registered to the editor. You can do this by passing the node class via the "nodes" array in the editor config.');const o=r.replace;if(o!==null){const s=o(t);if(!(s instanceof t.constructor))throw Error("$initializeNode failed. Ensure replacement node is a subclass of the original node.");return s}return t}function ao(t,e){const n=t.getParent();if(j(n)&&!y(e)&&!P(e))throw Error("Only element or decorator nodes can be inserted in to the root node")}function ea(t){const e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=e.blockCursor;if(r!==void 0){if(typeof r=="string"){const o=r.split(" ");r=e.blockCursor=o}r!==void 0&&n.classList.add(...r)}return n}function lo(t){return(P(t)||y(t)&&!t.canBeEmpty())&&!t.isInline()}function fo(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function ta(t,e,n){let r=t._blockCursorElement;if(M(n)&&n.isCollapsed()&&n.anchor.type==="element"&&e.contains(document.activeElement)){const o=n.anchor,s=o.getNode(),i=o.offset,c=s.getChildrenSize();let a=!1,l=null;if(i===c){const f=s.getChildAtIndex(i-1);lo(f)&&(a=!0)}else{const f=s.getChildAtIndex(i);if(lo(f)){const $=f.getPreviousSibling();($===null||lo($))&&(a=!0,l=t.getElementByKey(f.__key))}}if(a){const f=t.getElementByKey(s.__key);r===null&&(t._blockCursorElement=r=ea(t._config)),e.style.caretColor="transparent",l===null?f.appendChild(r):f.insertBefore(r,l);return}}r!==null&&fo(r,t,e)}function ee(t){return oe?(t||window).getSelection():null}function As(t,e){let n=t.getChildAtIndex(e);if(n==null&&(n=t),Z(t))throw Error("Can not call $splitNode() on root element");const r=i=>{const c=i.getParentOrThrow(),a=Z(c),l=i===n&&!a?i:Ds(i);if(a)return i.insertAfter(l),[i,l,l];{const[f,$,u]=r(c),d=i.getNextSiblings();return u.append(l,...d),[f,$,l]}},[o,s]=r(n);return[o,s]}function ws(t,e){let n=t;for(;n!==ie()&&n!=null;){if(e(n))return n;n=n.getParent()}return null}function na(t){const e=[],n=[t];for(;n.length>0;){const r=n.pop();if(r===void 0)throw Error("Stack.length > 0; can't be undefined");y(r)&&n.unshift(...r.getChildren()),r!==t&&e.push(r)}return e}function ra(t,e){const n=t._decorators;let o=t._pendingDecorators||n;const s=e._nodeMap;let i;for(i in o)s.has(i)||(o===n&&(o=ps(t)),delete o[i])}function Rs(t,e,n,r,o){let s=t.getFirstChild();for(;s!==null;){const i=s.__key;s!==void 0&&s.__parent===e&&(y(s)&&Rs(s,i,n,r,o),n.has(i)||o.delete(i),r.delete(i)),s=s.isAttached()?s.getNextSibling():null}}function oa(t,e,n,r){const o=t._nodeMap,s=e._nodeMap;for(const i of n){const c=s.get(i);c!==void 0&&!c.isAttached()&&(o.has(i)||n.delete(i),s.delete(i))}for(const[i]of r){const c=s.get(i);c!==void 0&&(c.isAttached()||(y(c)&&Rs(c,i,o,s,r),o.has(i)||r.delete(i),s.delete(i)))}}function Ps(t,e){const n=t.__mode,r=t.__format,o=t.__style,s=e.__mode,i=e.__format,c=e.__style;return(n===null||n===s)&&(r===null||r===i)&&(o===null||o===c)}function Is(t,e){const n=t.mergeWithSibling(e),r=I()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function ks(t){let e=t;if(e.__text===""&&e.isSimpleText()&&!e.isUnmergeable()){e.remove();return}let n;for(;(n=e.getPreviousSibling())!==null&&x(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else if(Ps(n,e)){e=Is(n,e);break}else break;let r;for(;(r=e.getNextSibling())!==null&&x(r)&&r.isSimpleText()&&!r.isUnmergeable();)if(r.__text==="")r.remove();else if(Ps(e,r)){e=Is(e,r);break}else break}function Ls(t){return Fs(t.anchor),Fs(t.focus),t}function Fs(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,o;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),o=!0):(r=e.getChildAtIndex(n),o=!1),x(r)){t.set(r.__key,o?r.getTextContentSize():0,"text");break}else if(!y(r))break;t.set(r.__key,o?r.getChildrenSize():0,"element")}}let k="",G="",ce="",ue,H,Je,Ks=!1,uo=!1,Nt,vt=null,$o,ho,ve,$e,_o,je;function yt(t,e){const n=ve.get(t);if(e!==null){const r=No(t);r.parentNode===e&&e.removeChild(r)}if($e.has(t)||H._keyToDOMMap.delete(t),y(n)){const r=Et(n,ve);go(r,0,r.length-1,null)}n!==void 0&&io(je,Je,Nt,n,"destroyed")}function go(t,e,n,r){let o=e;for(;o<=n;++o){const s=t[o];s!==void 0&&yt(s,r)}}function ye(t,e){t.setProperty("text-align",e)}const sa="20px";function Bs(t,e){const n=ue.theme.indent;if(typeof n=="string"){const o=t.classList.contains(n);e>0&&!o?t.classList.add(n):e<1&&o&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||sa;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function Ws(t,e){const n=t.style;e===0?ye(n,""):e===Vr?ye(n,"left"):e===Jr?ye(n,"center"):e===jr?ye(n,"right"):e===Xr?ye(n,"justify"):e===qr?ye(n,"start"):e===Qr&&ye(n,"end")}function mt(t,e,n){const r=$e.get(t);if(r===void 0)throw Error("createNode: node does not exist in nodeMap");const o=r.createDOM(ue,H);if(ua(t,o,H),x(r)?o.setAttribute("data-lexical-text","true"):P(r)&&o.setAttribute("data-lexical-decorator","true"),y(r)){const s=r.__indent,i=r.__size;if(s!==0&&Bs(o,s),i!==0){const a=i-1,l=Et(r,$e);ia(l,a,r,o)}const c=r.__format;c!==0&&Ws(o,c),r.isInline()||Us(null,r,o),$t(r)&&(k+=se,ce+=se)}else{const s=r.getTextContent();if(P(r)){const i=r.decorate(H,ue);i!==null&&Gs(t,i),o.contentEditable="false"}else x(r)&&(r.isDirectionless()||(G+=s));k+=s,ce+=s}if(e!==null)if(n!=null)e.insertBefore(o,n);else{const s=e.__lexicalLineBreak;s!=null?e.insertBefore(o,s):e.appendChild(o)}return Object.freeze(r),io(je,Je,Nt,r,"created"),o}function ia(t,e,n,r){const o=G;G="",po(t,n,0,e,r,null),Ys(n,r),G=o}function po(t,e,n,r,o,s){const i=k;k="";let c=n;for(;c<=r;++c)mt(t[c],o,s);$t(e)&&(k+=se),o.__lexicalTextContent=k,k=i+k}function zs(t,e){const n=e.get(t);return ot(n)||P(n)&&n.isInline()}function Us(t,e,n){const r=t!==null&&(t.__size===0||zs(t.__last,ve)),o=e.__size===0||zs(e.__last,$e);if(r){if(!o){const s=n.__lexicalLineBreak;s!=null&&n.removeChild(s),n.__lexicalLineBreak=null}}else if(o){const s=document.createElement("br");n.__lexicalLineBreak=s,n.appendChild(s)}}function Ys(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==G||r!==vt){const o=G==="",s=o?vt:dc(G);if(s!==r){const i=e.classList,c=ue.theme;let a=r!==null?c[r]:void 0,l=s!==null?c[s]:void 0;if(a!==void 0){if(typeof a=="string"){const f=a.split(" ");a=c[r]=f}i.remove(...a)}if(s===null||o&&s==="ltr")e.removeAttribute("dir");else{if(l!==void 0){if(typeof l=="string"){const f=l.split(" ");l=c[s]=f}l!==void 0&&i.add(...l)}e.dir=s}if(!uo){const f=t.getWritable();f.__dir=s}}vt=s,e.__lexicalDirTextContent=G,e.__lexicalDir=s}}function ca(t,e,n){const r=G;G="",aa(t,e,n),Ys(e,n),G=r}function Et(t,e){const n=[];let r=t.__first;for(;r!==null;){const o=e.get(r);if(o===void 0)throw Error("createChildrenArray: node does not exist in nodeMap");n.push(r),r=o.__next}return n}function aa(t,e,n){const r=k,o=t.__size,s=e.__size;if(k="",o===1&&s===1){const i=t.__first,c=e.__first;if(i===c)Xe(i,n);else{const a=No(i),l=mt(c,null,null);n.replaceChild(l,a),yt(i,null)}}else{const i=Et(t,ve),c=Et(e,$e);if(o===0)s!==0&&po(c,e,0,s-1,n,null);else if(s===0){if(o!==0){const l=n.__lexicalLineBreak==null;go(i,0,o-1,l?null:n),l&&(n.textContent="")}}else fa(e,i,c,o,s,n)}$t(e)&&(k+=se),n.__lexicalTextContent=k,k=r+k}function Xe(t,e){const n=ve.get(t);let r=$e.get(t);if(n===void 0||r===void 0)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");const o=Ks||ho.has(t)||$o.has(t),s=ht(H,t);if(n===r&&!o){if(y(n)){const i=s.__lexicalTextContent;i!==void 0&&(k+=i,ce+=i);const c=s.__lexicalDirTextContent;c!==void 0&&(G+=c)}else{const i=n.getTextContent();x(n)&&!n.isDirectionless()&&(G+=i),ce+=i,k+=i}return s}if(n!==r&&o&&io(je,Je,Nt,r,"updated"),r.updateDOM(n,s,ue)){const i=mt(t,null,null);if(e===null)throw Error("reconcileNode: parentDOM is null");return e.replaceChild(i,s),yt(t,null),i}if(y(n)&&y(r)){const i=r.__indent;i!==n.__indent&&Bs(s,i);const c=r.__format;c!==n.__format&&Ws(s,c),o&&(ca(n,r,s),!j(r)&&!r.isInline()&&Us(n,r,s)),$t(r)&&(k+=se,ce+=se)}else{const i=r.getTextContent();if(P(r)){const c=r.decorate(H,ue);c!==null&&Gs(t,c)}else x(r)&&!r.isDirectionless()&&(G+=i);k+=i,ce+=i}return!uo&&j(r)&&r.__cachedText!==ce&&(r=r.getWritable(),r.__cachedText=ce),Object.freeze(r),s}function Gs(t,e){let n=H._pendingDecorators;const r=H._decorators;if(n===null){if(r[t]===e)return;n=ps(H)}n[t]=e}function la(t){return t.firstChild}function bo(t){let e=t.nextSibling;return e!==null&&e===H._blockCursorElement&&(e=e.nextSibling),e}function fa(t,e,n,r,o,s){const i=r-1,c=o-1;let a,l,f=la(s),$=0,u=0;for(;$<=i&&u<=c;){const h=e[$],g=n[u];if(h===g)f=bo(Xe(g,s)),$++,u++;else{a===void 0&&(a=new Set(e)),l===void 0&&(l=new Set(n));const m=l.has(h),p=a.has(g);if(!m)f=bo(No(h)),yt(h,s),$++;else if(!p)mt(g,s,f),u++;else{const v=ht(H,g);v===f?f=bo(Xe(g,s)):(f!=null?s.insertBefore(v,f):s.appendChild(v),Xe(g,s)),$++,u++}}}const d=$>i,_=u>c;if(d&&!_){const h=n[c+1],g=h===void 0?null:H.getElementByKey(h);po(n,t,u,c,s,g)}else _&&!d&&go(e,$,i,s)}function da(t,e,n,r,o,s){k="",ce="",G="",Ks=r===Oe,vt=null,H=n,ue=n._config,Je=n._nodes,Nt=H._listeners.mutation,$o=o,ho=s,ve=t._nodeMap,$e=e._nodeMap,uo=e._readOnly,_o=new Map(n._keyToDOMMap);const i=new Map;return je=i,Xe("root",null),H=void 0,Je=void 0,$o=void 0,ho=void 0,ve=void 0,$e=void 0,ue=void 0,_o=void 0,je=void 0,i}function ua(t,e,n){const r=n._keyToDOMMap;e["__lexicalKey_"+n._key]=t,r.set(t,e)}function No(t){const e=_o.get(t);if(e===void 0)throw Error(`Reconciliation: could not find DOM element for node key ${t}`);return e}const ae=Object.freeze({}),vo=30,yo=[["keydown",ya],["pointerdown",ha],["compositionstart",Na],["compositionend",va],["input",ba],["click",$a],["cut",ae],["copy",ae],["dragstart",ae],["dragover",ae],["dragend",ae],["paste",ae],["focus",ae],["blur",ae],["drop",ae]];it&&yo.push(["beforeinput",(t,e)=>pa(t,e)]);let qe=0,Hs=0,Vs=0,Me=null,Qe=0,mo=!1,Eo=!1,Ze=!1,et=!1,Js=[0,"",0,"root",0];function js(t,e,n,r,o){const s=t.anchor,i=t.focus,c=s.getNode(),a=I(),l=ee(a._window),f=l!==null?l.anchorNode:null,$=s.key,u=a.getElementByKey($),d=n.length;return $!==i.key||!x(c)||(!o&&(!it||Vs<r+50)||c.isDirty()&&d<2||ys(n))&&s.offset!==i.offset&&!c.isComposing()||no(c)||c.isDirty()&&d>1||(o||!it)&&u!==null&&!c.isComposing()&&f!==ft(u)||l!==null&&e!==null&&(!e.collapsed||e.startContainer!==l.anchorNode||e.startOffset!==l.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||Nc(t,c)}function Xs(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===ze&&e!==0&&e!==t.nodeValue.length}function qs(t,e,n){const{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:i}=t;mo&&(mo=!1,Xs(r,o)&&Xs(s,i))||X(e,()=>{if(!n){de(null);return}if(!Ue(e,r,s))return;const c=R();if(M(c)){const a=c.anchor,l=a.getNode();if(c.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(c.dirty=!0);const f=pt(e).event,$=f?f.timeStamp:performance.now(),[u,d,_,h,g]=Js;$<g+200&&a.offset===_&&a.key===h?(c.format=u,c.style=d):a.type==="text"?(c.format=l.getFormat(),c.style=l.getStyle()):a.type==="element"&&(c.format=0,c.style="")}else{let f=Yi,$=!1;const u=c.getNodes(),d=u.length;for(let _=0;_<d;_++){const h=u[_];if(x(h)&&($=!0,f&=h.getFormat(),f===0))break}c.format=$?f:0}}E(e,Tr,void 0)})}function $a(t,e){X(e,()=>{const n=R(),r=ee(e._window),o=nt();if(M(n)){const s=n.anchor,i=s.getNode();r&&s.type==="element"&&s.offset===0&&n.isCollapsed()&&!j(i)&&ie().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&o!==null&&n.is(o)&&(r.removeAllRanges(),n.dirty=!0)}E(e,Io,t)})}function ha(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&r!=="touch"&&X(e,()=>{fc(n)||(Eo=!0)})}function Qs(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function _a(t,e){return t!==e||y(t)||y(e)||!t.isToken()||!e.isToken()}function ga(t){return Hs===229&&t<qe+vo}function pa(t,e){const n=t.inputType,r=Qs(t);n==="deleteCompositionText"||ge&&Ss(e)||n!=="insertCompositionText"&&X(e,()=>{const o=R();if(n==="deleteContentBackward"){if(o===null){const f=nt();if(!M(f))return;de(f.clone())}if(M(o)){if(ga(t.timeStamp)&&e.isComposing()&&o.anchor.key===o.focus.key){if(W(null),qe=0,setTimeout(()=>{X(e,()=>{W(null)})},vo),M(o)){const f=o.anchor.getNode();f.markDirty(),o.format=f.getFormat(),o.style=f.getStyle()}}else t.preventDefault(),E(e,Fe,!0);return}}if(!M(o))return;const s=t.data;Me!==null&&oo(!1,e,Me),(!o.dirty||Me!==null)&&o.isCollapsed()&&!j(o.anchor.getNode())&&r!==null&&o.applyDOMRange(r),Me=null;const i=o.anchor,c=o.focus,a=i.getNode(),l=c.getNode();if(n==="insertText"||n==="insertTranspose"){if(s===`
`)t.preventDefault(),E(e,Ke,!1);else if(s===se)t.preventDefault(),E(e,Or,void 0);else if(s==null&&t.dataTransfer){const f=t.dataTransfer.getData("text/plain");t.preventDefault(),o.insertRawText(f)}else s!=null&&js(o,r,s,t.timeStamp,!0)?(t.preventDefault(),E(e,Te,s)):Me=s;Vs=t.timeStamp;return}switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":E(e,Te,t);break;case"insertFromComposition":W(null),E(e,Te,t);break;case"insertLineBreak":W(null),E(e,Ke,!1);break;case"insertParagraph":W(null),Ze?(Ze=!1,E(e,Ke,!1)):E(e,Or,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":E(e,Sr,t);break;case"deleteByComposition":_a(a,l)&&E(e,Mr,void 0);break;case"deleteByDrag":case"deleteByCut":E(e,Mr,void 0);break;case"deleteContent":E(e,Fe,!1);break;case"deleteWordBackward":E(e,Be,!0);break;case"deleteWordForward":E(e,Be,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":E(e,We,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":E(e,We,!1);break;case"formatStrikeThrough":E(e,le,"strikethrough");break;case"formatBold":E(e,le,"bold");break;case"formatItalic":E(e,le,"italic");break;case"formatUnderline":E(e,le,"underline");break;case"historyUndo":E(e,Dr,void 0);break;case"historyRedo":E(e,Ar,void 0);break}})}function ba(t,e){t.stopPropagation(),X(e,()=>{const n=R(),r=t.data,o=Qs(t);if(r!=null&&M(n)&&js(n,o,r,t.timeStamp,!1)){et&&(xo(e,r),et=!1);const s=n.anchor,i=s.getNode(),c=ee(e._window);if(c===null)return;const a=s.offset;(!it||n.isCollapsed()||!x(i)||c.anchorNode===null||i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+n.focus.offset)!==Es(c.anchorNode))&&E(e,Te,r);const l=r.length;ge&&l>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=l),!Pr&&!Ir&&!kr&&e.isComposing()&&(qe=0,W(null))}else oo(!1,e,r!==null?r:void 0),et&&(xo(e,r||void 0),et=!1);gc()}),Me=null}function Na(t,e){X(e,()=>{const n=R();if(M(n)&&!e.isComposing()){const r=n.anchor,o=n.anchor.getNode();W(r.key),(t.timeStamp<qe+vo||r.type==="element"||!n.isCollapsed()||o.getFormat()!==n.format||o.getStyle()!==n.style)&&E(e,Te,Hi)}})}function xo(t,e){const n=t._compositionKey;if(W(null),n!==null&&e!=null){if(e===""){const r=F(n),o=ft(t.getElementByKey(n));o!==null&&o.nodeValue!==null&&x(r)&&so(r,o.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`){const r=R();if(M(r)){const o=r.focus;r.anchor.set(o.key,o.offset,o.type),E(t,st,null);return}}}oo(!0,t,e)}function va(t,e){ge?et=!0:X(e,()=>{xo(e,t.data)})}function ya(t,e){if(qe=t.timeStamp,Hs=t.keyCode,e.isComposing())return;const{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:s,altKey:i}=t;if(!E(e,ko,t)){if(Wc(n,o,i,s))E(e,Lo,t);else if(zc(n,o,r,i,s))E(e,Fo,t);else if(Kc(n,o,i,s))E(e,Ko,t);else if(Bc(n,o,r,i,s))E(e,Bo,t);else if(Uc(n,o,s))E(e,Wo,t);else if(Yc(n,o,s))E(e,zo,t);else if(Cc(n,r))Ze=!0,E(e,st,t);else if(Hc(n))E(e,Uo,t);else if(Tc(n,o))t.preventDefault(),Ze=!0,E(e,Ke,!0);else if(xc(n,r))Ze=!1,E(e,st,t);else if(Ac(n,i,s,o))Ge(n)?E(e,Yo,t):(t.preventDefault(),E(e,Fe,!0));else if(Vc(n))E(e,Go,t);else if(wc(n,o,r,i,s))He(n)?E(e,Ho,t):(t.preventDefault(),E(e,Fe,!1));else if(Oc(n,i,o))t.preventDefault(),E(e,Be,!0);else if(Sc(n,i,o))t.preventDefault(),E(e,Be,!1);else if(Mc(n,s))t.preventDefault(),E(e,We,!0);else if(Dc(n,s))t.preventDefault(),E(e,We,!1);else if(yc(n,i,s,o))t.preventDefault(),E(e,le,"bold");else if(Ec(n,i,s,o))t.preventDefault(),E(e,le,"underline");else if(mc(n,i,s,o))t.preventDefault(),E(e,le,"italic");else if(vc(n,i,o,s))E(e,Vo,t);else if(Rc(n,r,s,o))t.preventDefault(),E(e,Dr,void 0);else if(Pc(n,r,s,o))t.preventDefault(),E(e,Ar,void 0);else{const c=e._editorState._selection;tt(c)&&(Ic(n,r,s,o)?(t.preventDefault(),E(e,wr,t)):kc(n,r,s,o)&&(t.preventDefault(),E(e,Rr,t)))}Gc(o,r,i,s)&&E(e,es,t)}}function Zs(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const De=new Map;function ei(t){const e=t.target,n=e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView,r=ee(n);if(r===null)return;const o=us(r.anchorNode);if(o===null)return;Eo&&(Eo=!1,X(o,()=>{const f=nt(),$=r.anchorNode;if($===null)return;const u=$.nodeType;if(u!==ts&&u!==ze)return;const d=$i(f,r,o);de(d)}));const s=ro(o),i=s[s.length-1],c=i._key,a=De.get(c),l=a||i;l!==o&&qs(r,l,!1),qs(r,o,!0),o!==i?De.set(c,o):a&&De.delete(c)}function ti(t){t._lexicalHandled=!0}function ni(t){return t._lexicalHandled===!0}function ma(t,e){Qe===0&&t.ownerDocument.addEventListener("selectionchange",ei),Qe++,t.__lexicalEditor=e;const n=Zs(t);for(let r=0;r<yo.length;r++){const[o,s]=yo[r],i=typeof s=="function"?c=>{ni(c)||(ti(c),e.isEditable()&&s(c,e))}:c=>{if(!ni(c)&&(ti(c),e.isEditable()))switch(o){case"cut":return E(e,Rr,c);case"copy":return E(e,wr,c);case"paste":return E(e,Sr,c);case"dragstart":return E(e,jo,c);case"dragover":return E(e,Xo,c);case"dragend":return E(e,qo,c);case"focus":return E(e,Qo,c);case"blur":return E(e,Zo,c);case"drop":return E(e,Jo,c)}};t.addEventListener(o,i),n.push(()=>{t.removeEventListener(o,i)})}}function Ea(t){Qe!==0&&(Qe--,Qe===0&&t.ownerDocument.removeEventListener("selectionchange",ei));const e=t.__lexicalEditor;e!=null&&(xa(e),t.__lexicalEditor=null);const n=Zs(t);for(let r=0;r<n.length;r++)n[r]();t.__lexicalEventHandles=[]}function xa(t){if(t._parentEditor!==null){const e=ro(t),r=e[e.length-1]._key;De.get(r)===t&&De.delete(r)}else De.delete(t._key)}function Ca(){mo=!0}function Ta(t,e,n,r,o){Js=[t,e,n,r,o]}class Oa{is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode();const o=this.offset,s=e.offset;if(y(n)){const i=n.getDescendantByIndex(o);n=i??n}if(y(r)){const i=r.getDescendantByIndex(s);r=i??r}return n===r?o<s:n.isBefore(r)}getNode(){const e=this.key,n=F(e);if(n===null)throw Error("Point.getNode: node not found");return n}set(e,n,r){const o=this._selection,s=this.key;this.key=e,this.offset=n,this.type=r,Ae()||(fe()===s&&W(e),o!==null&&(o._cachedNodes=null,o.dirty=!0))}constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}}function te(t,e,n){return new Oa(t,e,n)}function Co(t,e){let n=e.__key,r=t.offset,o="element";if(x(e)){o="text";const s=e.getTextContentSize();r>s&&(r=s)}else if(!y(e)){const s=e.getNextSibling();if(x(s))n=s.__key,r=0,o="text";else{const i=e.getParent();i&&(n=i.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,o)}function ri(t,e){if(y(e)){const n=e.getLastDescendant();y(n)||x(n)?Co(t,n):Co(t,e)}else Co(t,e)}function oi(t,e,n,r){const o=t.getNode(),s=o.getChildAtIndex(t.offset),i=z(),c=j(o)?Ce().append(i):i;i.setFormat(n),i.setStyle(r),s===null?o.append(c):s.insertBefore(c),t.is(e)&&e.set(i.__key,0,"text"),t.set(i.__key,0,"text")}function he(t,e,n,r){t.key=e,t.offset=n,t.type=r}class xt{is(e){if(!tt(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(o=>r.has(o))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new xt(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e,n){const r=this.getNodes(),o=r.length,s=r[o-1];let i;if(x(s))i=s.select();else{const c=s.getIndexWithinParent()+1;i=s.getParentOrThrow().select(c,c)}i.insertNodes(e,n);for(let c=0;c<o;c++)r[c].remove();return!0}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const o of n){const s=F(o);s!==null&&r.push(s)}return Ae()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}}function M(t){return t instanceof me}class Ct{is(e){return To(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,n,r){this.dirty=!0,this.gridKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Ct(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Tt(this)}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e,n){const r=this.focus.getNode();return Ls(r.select(0,r.getChildrenSize())).insertNodes(e,n)}getShape(){const e=F(this.anchor.key);if(e===null)throw Error("getNodes: expected to find AnchorNode");const n=e.getIndexWithinParent(),r=e.getParentOrThrow().getIndexWithinParent(),o=F(this.focus.key);if(o===null)throw Error("getNodes: expected to find FocusNode");const s=o.getIndexWithinParent(),i=o.getParentOrThrow().getIndexWithinParent(),c=Math.min(n,s),a=Math.max(n,s),l=Math.min(r,i),f=Math.max(r,i);return{fromX:Math.min(c,a),fromY:Math.min(l,f),toX:Math.max(c,a),toY:Math.max(l,f)}}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this.anchor.getNode(),r=this.focus.getNode(),o=ws(n,Le),s=ws(r,Le);if(!Le(o))throw Error("Expected GridSelection anchor to be (or a child of) GridCellNode");if(!Le(s))throw Error("Expected GridSelection focus to be (or a child of) GridCellNode");const i=o.getParent();if(!Rt(i))throw Error("Expected anchorCell to have a parent GridRowNode");const c=i.getParent();if(!Ri(c))throw Error("Expected tableNode to have a parent GridNode");const[a,l,f]=Ka(c,o,s);let $=Math.min(l.startColumn,f.startColumn),u=Math.min(l.startRow,f.startRow),d=Math.max(l.startColumn+l.cell.__colSpan-1,f.startColumn+f.cell.__colSpan-1),_=Math.max(l.startRow+l.cell.__rowSpan-1,f.startRow+f.cell.__rowSpan-1),h=$,g=u,m=$,p=u;function v(T){const{cell:S,startColumn:A,startRow:U}=T;$=Math.min($,A),u=Math.min(u,U),d=Math.max(d,A+S.__colSpan-1),_=Math.max(_,U+S.__rowSpan-1)}for(;$<h||u<g||d>m||_>p;){if($<h){const T=p-g,S=h-1;for(let A=0;A<=T;A++)v(a[g+A][S]);h=S}if(u<g){const T=m-h,S=g-1;for(let A=0;A<=T;A++)v(a[S][h+A]);g=S}if(d>m){const T=p-g,S=m+1;for(let A=0;A<=T;A++)v(a[g+A][S]);m=S}if(_>p){const T=m-h,S=p+1;for(let A=0;A<=T;A++)v(a[S][h+A]);p=S}}const O=[c];let C=null;for(let T=u;T<=_;T++)for(let S=$;S<=d;S++){const{cell:A}=a[T][S],U=A.getParent();if(!Rt(U))throw Error("Expected GridCellNode parent to be a GridRowNode");U!==C&&O.push(U),O.push(A,...na(A)),C=U}return Ae()||(this._cachedNodes=O),O}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}constructor(e,n,r){this.gridKey=e,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}}function To(t){return t instanceof Ct}class me{is(e){return M(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this.anchor,r=this.focus,o=n.isBefore(r),s=o?n:r,i=o?r:n;let c=s.getNode(),a=i.getNode();const l=s.offset,f=i.offset;if(y(c)){const u=c.getDescendantByIndex(l);c=u??c}if(y(a)){let u=a.getDescendantByIndex(f);u!==null&&u!==c&&a.getChildAtIndex(f)===u&&(u=u.getPreviousSibling()),a=u??a}let $;return c.is(a)?y(c)&&c.getChildrenSize()>0?$=[]:$=[c]:$=c.getNodesBetween(a),Ae()||(this._cachedNodes=$),$}setTextNodeRange(e,n,r,o){he(this.anchor,e.__key,n,"text"),he(this.focus,r.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],o=this.anchor,s=this.focus,i=o.isBefore(s),[c,a]=Tt(this);let l="",f=!0;for(let $=0;$<e.length;$++){const u=e[$];if(y(u)&&!u.isInline())f||(l+=`
`),u.isEmpty()?f=!1:f=!0;else if(f=!1,x(u)){let d=u.getTextContent();u===n?u===r?(o.type!=="element"||s.type!=="element"||s.offset===o.offset)&&(d=c<a?d.slice(c,a):d.slice(a,c)):d=i?d.slice(c):d.slice(a):u===r&&(d=i?d.slice(0,a):d.slice(0,c)),l+=d}else(P(u)||ot(u))&&(u!==r||!this.isCollapsed())&&(l+=u.getTextContent())}return l}applyDOMRange(e){const n=I(),o=n.getEditorState()._selection,s=fi(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,o);if(s===null)return;const[i,c]=s;he(this.anchor,i.key,i.offset,i.type),he(this.focus,c.key,c.offset,c.type),this._cachedNodes=null}clone(){const e=this.anchor,n=this.focus;return new me(te(e.key,e.offset,e.type),te(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=$s(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=be[e];return(this.format&n)!=0}insertRawText(e){const n=e.split(/\r?\n/);if(n.length===1)this.insertText(e);else{const r=[],o=n.length;for(let s=0;s<o;s++){const i=n[s];i!==""&&r.push(z(i)),s!==o-1&&r.push(Pe())}this.insertNodes(r)}}insertText(e){const n=this.anchor,r=this.focus,o=this.isCollapsed()||n.isBefore(r),s=this.format,i=this.style;o&&n.type==="element"?oi(n,r,s,i):!o&&r.type==="element"&&oi(r,n,s,i);const c=this.getNodes(),a=c.length,l=o?n:r,f=o?r:n,$=l.offset,u=f.offset;let d=c[0];if(!x(d))throw Error("insertText: first node is not a text node");const h=d.getTextContent().length,g=d.getParentOrThrow(),m=a-1;let p=c[m];if(this.isCollapsed()&&$===h&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&d.getNextSibling()===null)){let v=d.getNextSibling();if((!x(v)||no(v))&&(v=z(),v.setFormat(s),g.canInsertTextAfter()?d.insertAfter(v):g.insertAfter(v)),v.select(0,0),d=v,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&$===0&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&d.getPreviousSibling()===null)){let v=d.getPreviousSibling();if((!x(v)||no(v))&&(v=z(),v.setFormat(s),g.canInsertTextBefore()?d.insertBefore(v):g.insertBefore(v)),v.select(),d=v,e!==""){this.insertText(e);return}}else if(d.isSegmented()&&$!==h){const v=z(d.getTextContent());v.setFormat(s),d.replace(v),d=v}else if(!this.isCollapsed()&&e!==""){const v=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||y(v)&&(!v.canInsertTextBefore()||!v.canInsertTextAfter())){this.insertText(""),li(this.anchor,this.focus,null),this.insertText(e);return}}if(a===1){if(d.isToken()){const T=z(e);T.select(),d.replace(T);return}const v=d.getFormat(),O=d.getStyle();if($===u&&(v!==s||O!==i))if(d.getTextContent()==="")d.setFormat(s),d.setStyle(i);else{const T=z(e);if(T.setFormat(s),T.setStyle(i),T.select(),$===0)d.insertBefore(T,!1);else{const[S]=d.splitText($);S.insertAfter(T,!1)}T.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}const C=u-$;d=d.spliceText($,C,e,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=v,this.style=O))}else{const v=new Set([...d.getParentKeys(),...p.getParentKeys()]),O=y(d)?d:d.getParentOrThrow();let C=y(p)?p:p.getParentOrThrow(),T=p;if(!O.is(C)&&C.isInline())do T=C,C=C.getParentOrThrow();while(C.isInline());if(f.type==="text"&&(u!==0||p.getTextContent()==="")||f.type==="element"&&p.getIndexWithinParent()<u)if(x(p)&&!p.isToken()&&u!==p.getTextContentSize()){if(p.isSegmented()){const w=z(p.getTextContent());p.replace(w),p=w}p=p.spliceText(0,u,""),v.add(p.__key)}else{const w=p.getParentOrThrow();!w.canBeEmpty()&&w.getChildrenSize()===1?w.remove():p.remove()}else v.add(p.__key);const S=C.getChildren(),A=new Set(c),U=O.is(C),V=O.isInline()&&d.getNextSibling()===null?O:d;for(let w=S.length-1;w>=0;w--){const L=S[w];if(L.is(d)||y(L)&&L.isParentOf(d))break;L.isAttached()&&(!A.has(L)||L.is(T)?U||V.insertAfter(L,!1):L.remove())}if(!U){let w=C,L=null;for(;w!==null;){const q=w.getChildren(),re=q.length;(re===0||q[re-1].is(L))&&(v.delete(w.__key),L=w),w=w.getParent()}}if(!d.isToken())d=d.spliceText($,h-$,e,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);else if($===h)d.select();else{const w=z(e);w.select(),d.replace(w)}for(let w=1;w<a;w++){const L=c[w],q=L.__key;v.has(q)||L.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed()){this.toggleFormat(e),W(null);return}const n=this.getNodes(),r=[];for(const p of n)x(p)&&r.push(p);const o=r.length;if(o===0){this.toggleFormat(e),W(null);return}const s=this.anchor,i=this.focus,c=this.isBackward(),a=c?i:s,l=c?s:i;let f=0,$=r[0],u=a.type==="element"?0:a.offset;if(a.type==="text"&&u===$.getTextContentSize()&&(f=1,$=r[1],u=0),$==null)return;const d=$.getFormatFlags(e,null),_=o-1;let h=r[_];const g=l.type==="text"?l.offset:h.getTextContentSize();if($.is(h)){if(u===g)return;if(u===0&&g===$.getTextContentSize())$.setFormat(d);else{const p=$.splitText(u,g),v=u===0?p[0]:p[1];v.setFormat(d),a.type==="text"&&a.set(v.__key,0,"text"),l.type==="text"&&l.set(v.__key,g-u,"text")}this.format=d;return}u!==0&&([,$]=$.splitText(u),u=0),$.setFormat(d);const m=h.getFormatFlags(e,d);g>0&&(g!==h.getTextContentSize()&&([h]=h.splitText(g)),h.setFormat(m));for(let p=f+1;p<_;p++){const v=r[p];if(!v.isToken()){const O=v.getFormatFlags(e,m);v.setFormat(O)}}a.type==="text"&&a.set($.__key,u,"text"),l.type==="text"&&l.set(h.__key,g,"text"),this.format=d|m}insertNodes(e,n){if(!this.isCollapsed()){const _=this.isBackward()?this.anchor:this.focus,h=_.getNode().getNextSibling(),g=h?h.getKey():null,m=_.getNode().getPreviousSibling(),p=m?m.getKey():null;if(this.removeText(),this.isCollapsed()&&this.focus.type==="element"){let v;this.focus.key===g&&this.focus.offset===0?(v=z(),this.focus.getNode().insertBefore(v)):this.focus.key===p&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(v=z(),this.focus.getNode().insertAfter(v)),v&&(this.focus.set(v.__key,0,"text"),this.anchor.set(v.__key,0,"text"))}}const r=this.anchor,o=r.offset,s=r.getNode();let i=s;if(r.type==="element"){const _=r.getNode(),h=_.getChildAtIndex(o-1);h===null?i=_:i=h}const c=[],a=s.getNextSiblings(),l=Z(s)?null:s.getTopLevelElementOrThrow();if(x(s)){const h=s.getTextContent().length;if(o===0&&h!==0){const g=s.getPreviousSibling();g!==null?i=g:i=s.getParentOrThrow(),c.push(s)}else if(o===h)i=s;else{if(s.isToken())return!1;{let g;[i,g]=s.splitText(o),c.push(g)}}}const f=i;c.push(...a);const $=e[0];let u=!1,d=null;for(let _=0;_<e.length;_++){const h=e[_];if(!Z(i)&&!P(i)&&y(h)&&!h.isInline()){if(h.is($)){if(y(i)&&i.isEmpty()&&i.canReplaceWith(h)){i.replace(h),i=h,u=!0;continue}const g=h.getFirstDescendant();if(hs(g)){let m=g.getParentOrThrow();for(;m.isInline();)m=m.getParentOrThrow();const p=m.getChildren(),v=p.length;if(y(i)){let O=i.getFirstChild();for(let C=0;C<v;C++){const T=p[C];O===null?i.append(T):O.insertAfter(T),O=T}}else{for(let O=v-1;O>=0;O--)i.insertAfter(p[O]);i=i.getParentOrThrow()}if(d=p[v-1],m.remove(),u=!0,m.is(h))continue}}if(x(i)){if(l===null)throw Error("insertNode: topLevelElement is root node");i=l}}else if(u&&!P(h)&&Z(i.getParent()))throw Error("insertNodes: cannot insert a non-element into a root node");if(u=!1,y(i)&&!i.isInline())if(d=h,P(h)&&!h.isInline())i=i.insertAfter(h,!1);else if(y(h)){if(!h.canBeEmpty()&&h.isEmpty())continue;if(j(i)){const g=i.getChildAtIndex(o);g!==null?g.insertBefore(h):i.append(h),i=h}else h.isInline()?(i.append(h),i=h):i=i.insertAfter(h,!1)}else{const g=i.getFirstChild();g!==null?g.insertBefore(h):i.append(h),i=h}else if(!y(h)||y(h)&&h.isInline()||P(i)&&!i.isInline())if(d=h,M(this)&&P(h)&&(y(i)||x(i))&&!h.isInline()){let g,m;if(x(i)){g=i.getParentOrThrow();const[v]=i.splitText(o);m=v.getIndexWithinParent()+1}else g=i,m=o;const[,p]=As(g,m);i=p.insertBefore(h)}else i=i.insertAfter(h,!1);else{const g=i.getParentOrThrow();ot(i)&&i.remove(),i=g,_--;continue}}if(n)if(x(f))f.select();else{const _=i.getPreviousSibling();if(x(_))_.select();else{const h=i.getIndexWithinParent();i.getParentOrThrow().select(h,h)}}if(y(i)){const _=x(d)?d:y(d)&&d.isInline()?d.getLastDescendant():i.getLastDescendant();if(n||(_===null?i.select():x(_)?_.getTextContent()===""?_.selectPrevious():_.select():_.selectNext()),c.length!==0){const h=i;for(let g=c.length-1;g>=0;g--){const m=c[g],p=m.getParentOrThrow();if(y(i)&&!di(m)&&!(P(m)&&(!m.isInline()||m.isIsolated())))h===i?i.append(m):i.insertBefore(m),i=m;else if(!y(i)&&!di(m))i.insertBefore(m),i=m;else if(y(m)&&!m.canInsertAfter(i)){const v=p.constructor.clone(p);if(!y(v))throw Error("insertNodes: cloned parent clone is not an element");v.append(m),i.insertAfter(v)}else i.insertAfter(m);p.isEmpty()&&!p.canBeEmpty()&&p.remove()}}}else if(!n)if(x(i))i.select();else{const _=i.getParentOrThrow(),h=i.getIndexWithinParent()+1;_.select(h,h)}return!0}insertParagraph(){this.isCollapsed()||this.removeText();const e=this.anchor,n=e.offset;let r,o=[],s=[];if(e.type==="text"){const a=e.getNode();o=a.getNextSiblings().reverse(),r=a.getParentOrThrow();const l=r.isInline(),f=l?r.getTextContentSize():a.getTextContentSize();if(n===0)o.push(a);else if(l&&(s=r.getNextSiblings()),n!==f&&(!l||n!==a.getTextContentSize())){const[,$]=a.splitText(n);o.push($)}}else{if(r=e.getNode(),Z(r)){const a=Ce(),l=r.getChildAtIndex(n);a.select(),l!==null?l.insertBefore(a,!1):r.append(a);return}o=r.getChildren().slice(n).reverse()}const i=o.length;if(n===0&&i>0&&r.isInline()){const a=r.getParentOrThrow(),l=a.insertNewAfter(this,!1);if(y(l)){const f=a.getChildren();for(let $=0;$<f.length;$++)l.append(f[$])}return}const c=r.insertNewAfter(this,!1);if(c===null)this.insertLineBreak();else if(y(c)){const a=r.getFirstChild();if(n===0&&(r.is(e.getNode())||a&&a.is(e.getNode()))&&i>0){r.insertBefore(c);return}let f=null;const $=s.length,u=c.getParentOrThrow();if($>0)for(let d=0;d<$;d++){const _=s[d];u.append(_)}if(i!==0)for(let d=0;d<i;d++){const _=o[d];f===null?c.append(_):f.insertBefore(_),f=_}!c.canBeEmpty()&&c.getChildrenSize()===0?(c.selectPrevious(),c.remove()):c.selectStart()}}insertLineBreak(e){const n=Pe(),r=this.anchor;if(r.type==="element"){const o=r.getNode();j(o)&&this.insertParagraph()}e?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return Tt(this)}extract(){const e=this.getNodes(),n=e.length,r=n-1,o=this.anchor,s=this.focus;let i=e[0],c=e[r];const[a,l]=Tt(this);if(n===0)return[];if(n===1){if(x(i)&&!this.isCollapsed()){const $=a>l?l:a,u=a>l?a:l,d=i.splitText($,u),_=$===0?d[0]:d[1];return _!=null?[_]:[]}return[i]}const f=o.isBefore(s);if(x(i)){const $=f?a:l;$===i.getTextContentSize()?e.shift():$!==0&&([,i]=i.splitText($),e[0]=i)}if(x(c)){const u=c.getTextContent().length,d=f?l:a;d===0?e.pop():d!==u&&([c]=c.splitText(d),e[r]=c)}return e}modify(e,n,r){const o=this.focus,s=this.anchor,i=e==="move",c=co(o,n);if(P(c)&&!c.isIsolated()){if(i&&c.isKeyboardSelectable()){const d=Oo();d.add(c.__key),de(d);return}const u=n?c.getPreviousSibling():c.getNextSibling();if(x(u)){const d=u.__key,_=n?u.getTextContent().length:0;o.set(d,_,"text"),i&&s.set(d,_,"text");return}else{const d=c.getParentOrThrow();let _,h;y(u)?(h=u.__key,_=n?u.getChildrenSize():0):(_=c.getIndexWithinParent(),h=d.__key,n||_++),o.set(h,_,"element"),i&&s.set(h,_,"element");return}}const a=I(),l=ee(a._window);if(!l)return;const f=a._blockCursorElement,$=a._rootElement;if($!==null&&f!==null&&y(c)&&!c.isInline()&&!c.canBeEmpty()&&fo(f,a,$),Ma(l,e,n?"backward":"forward",r),l.rangeCount>0){const u=l.getRangeAt(0),d=this.anchor.getNode(),_=j(d)?d:Ms(d);if(this.applyDOMRange(u),this.dirty=!0,!i){const h=this.getNodes(),g=[];let m=!1;for(let p=0;p<h.length;p++){const v=h[p];gt(v,_)?g.push(v):m=!0}if(m&&g.length>0)if(n){const p=g[0];y(p)?p.selectStart():p.getParentOrThrow().selectStart()}else{const p=g[g.length-1];y(p)?p.selectEnd():p.getParentOrThrow().selectEnd()}(l.anchorNode!==u.startContainer||l.anchorOffset!==u.startOffset)&&Sa(this)}}}deleteCharacter(e){if(this.isCollapsed()){const r=this.anchor,o=this.focus;let s=r.getNode();if(!e&&(r.type==="element"&&y(s)&&r.offset===s.getChildrenSize()||r.type==="text"&&r.offset===s.getTextContentSize())){const c=s.getParent(),a=s.getNextSibling()||(c===null?null:c.getNextSibling());if(y(a)&&!a.canExtractContents())return}const i=co(o,e);if(P(i)&&!i.isIsolated()){if(i.isKeyboardSelectable()&&y(s)&&s.getChildrenSize()===0){s.remove();const c=Oo();c.add(i.__key),de(c)}else i.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&(r.type==="element"?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const c=o.type==="text"?o.getNode():null;if(s=r.type==="text"?r.getNode():null,c!==null&&c.isSegmented()){const a=o.offset,l=c.getTextContentSize();if(c.is(s)||e&&a!==l||!e&&a!==0){ii(c,e,a);return}}else if(s!==null&&s.isSegmented()){const a=r.offset,l=s.getTextContentSize();if(s.is(c)||e&&a!==0||!e&&a!==l){ii(s,e,a);return}}Da(this,e)}}const n=this.isCollapsed();if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&j(r.getParent())&&r.getIndexWithinParent()===0&&r.collapseAtStart(this)}}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}constructor(e,n,r,o){this.anchor=e,this.focus=n,this.dirty=!1,this.format=r,this.style=o,this._cachedNodes=null,e._selection=this,n._selection=this}}function tt(t){return t instanceof xt}function si(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function Tt(t){const e=t.anchor,n=t.focus;return e.type==="element"&&n.type==="element"&&e.key===n.key&&e.offset===n.offset?[0,0]:[si(e),si(n)]}function Sa(t){const e=t.focus,n=t.anchor,r=n.key,o=n.offset,s=n.type;he(n,e.key,e.offset,e.type),he(e,r,o,s),t._cachedNodes=null}function Ma(t,e,n,r){t.modify(e,n,r)}function Da(t,e){const n=t.anchor,r=t.focus,o=n.getNode(),s=r.getNode();if(o===s&&n.type==="text"&&r.type==="text"){const i=n.offset,c=r.offset,a=i<c,l=a?i:c,f=a?c:i,$=f-1;if(l!==$){const u=o.getTextContent().slice(l,f);ys(u)||(e?r.offset=$:n.offset=$)}}}function ii(t,e,n){const r=t,s=r.getTextContent().split(/(?=\s)/g),i=s.length;let c=0,a=0;for(let f=0;f<i;f++){const $=s[f],u=f===i-1;if(a=c,c+=$.length,e&&c===n||c>n||u){s.splice(f,1),u&&(a=void 0);break}}const l=s.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function Aa(t,e,n){const r=t.getParent();return n===null||r===null||!r.canBeEmpty()||r!==n.getNode()}function ci(t,e,n,r){let o=e,s;if(t.nodeType===ts){let i=!1;const c=t.childNodes,a=c.length;o===a&&(i=!0,o=a-1);let l=c[o],f=!1;if(l===r._blockCursorElement?(l=c[o+1],f=!0):r._blockCursorElement!==null&&o--,s=Se(l),x(s))o=vs(s,i);else{let $=Se(t);if($===null)return null;if(y($)){let u=$.getChildAtIndex(o);if(y(u)&&Aa(u,o,n)){const d=i?u.getLastDescendant():u.getFirstDescendant();d===null?($=u,o=0):(u=d,$=y(u)?u:u.getParentOrThrow())}x(u)?(s=u,$=null,o=vs(u,i)):u!==$&&i&&!f&&o++}else{const u=$.getIndexWithinParent();e===0&&P($)&&Se(t)===$?o=u:o=u+1,$=$.getParentOrThrow()}if(y($))return te($.__key,o,"element")}}else s=Se(t);return x(s)?te(s.__key,o,"text"):null}function ai(t,e,n){const r=t.offset,o=t.getNode();if(r===0){const s=o.getPreviousSibling(),i=o.getParent();if(!e)y(s)&&!n&&s.isInline()?(t.key=s.__key,t.offset=s.getChildrenSize(),t.type="element"):x(s)&&(t.key=s.__key,t.offset=s.getTextContent().length);else if((n||!e)&&s===null&&y(i)&&i.isInline()){const c=i.getPreviousSibling();x(c)&&(t.key=c.__key,t.offset=c.getTextContent().length)}}else if(r===o.getTextContent().length){const s=o.getNextSibling(),i=o.getParent();if(e&&y(s)&&s.isInline())t.key=s.__key,t.offset=0,t.type="element";else if((n||e)&&s===null&&y(i)&&i.isInline()&&!i.canInsertTextAfter()){const c=i.getNextSibling();x(c)&&(t.key=c.__key,t.offset=0)}}}function li(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),o=t.is(e);ai(t,r,o),ai(e,!r,o),o&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const s=I();if(s.isComposing()&&s._compositionKey!==t.key&&M(n)){const i=n.anchor,c=n.focus;he(t,i.key,i.offset,i.type),he(e,c.key,c.offset,c.type)}}}function fi(t,e,n,r,o,s){if(t===null||n===null||!Ue(o,t,n))return null;const i=ci(t,e,M(s)?s.anchor:null,o);if(i===null)return null;const c=ci(n,r,M(s)?s.focus:null,o);if(c===null)return null;if(i.type==="element"&&c.type==="element"){const a=Se(t),l=Se(n);if(P(a)&&P(l))return null}return li(i,c,s),[i,c]}function di(t){return y(t)&&!t.isInline()}function ui(t,e,n,r,o,s){const i=ne(),c=new me(te(t,e,o),te(n,r,s),0,"");return c.dirty=!0,i._selection=c,c}function wa(){const t=te("root",0,"element"),e=te("root",0,"element");return new me(t,e,0,"")}function Oo(){return new xt(new Set)}function Ra(){const t=te("root",0,"element"),e=te("root",0,"element");return new Ct("root",t,e)}function Pa(t){const n=t.getEditorState()._selection,r=ee(t._window);return tt(n)||To(n)?n.clone():$i(n,r,t)}function $i(t,e,n){const r=n._window;if(r===null)return null;const o=r.event,s=o?o.type:void 0,i=s==="selectionchange",c=!ec()&&(i||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&o&&o.detail===3||s==="drop"||s===void 0);let a,l,f,$;if(!M(t)||c){if(e===null)return null;if(a=e.anchorNode,l=e.focusNode,f=e.anchorOffset,$=e.focusOffset,i&&M(t)&&!Ue(n,a,l))return t.clone()}else return t.clone();const u=fi(a,f,l,$,n,t);if(u===null)return null;const[d,_]=u;return new me(d,_,M(t)?t.format:0,M(t)?t.style:"")}function R(){return ne()._selection}function nt(){return I()._editorState._selection}function Ot(t,e,n,r=1){const o=t.anchor,s=t.focus,i=o.getNode(),c=s.getNode();if(!e.is(i)&&!e.is(c))return;const a=e.__key;if(t.isCollapsed()){const _=o.offset;if(n<=_){const h=Math.max(0,_+r);o.set(a,h,"element"),s.set(a,h,"element"),hi(t)}return}const l=t.isBackward(),f=l?s:o,$=f.getNode(),u=l?o:s,d=u.getNode();if(e.is($)){const _=f.offset;n<=_&&f.set(a,Math.max(0,_+r),"element")}if(e.is(d)){const _=u.offset;n<=_&&u.set(a,Math.max(0,_+r),"element")}hi(t)}function hi(t){const e=t.anchor,n=e.offset,r=t.focus,o=r.offset,s=e.getNode(),i=r.getNode();if(t.isCollapsed()){if(!y(s))return;const c=s.getChildrenSize(),a=n>=c,l=a?s.getChildAtIndex(c-1):s.getChildAtIndex(n);if(x(l)){let f=0;a&&(f=l.getTextContentSize()),e.set(l.__key,f,"text"),r.set(l.__key,f,"text")}return}if(y(s)){const c=s.getChildrenSize(),a=n>=c,l=a?s.getChildAtIndex(c-1):s.getChildAtIndex(n);if(x(l)){let f=0;a&&(f=l.getTextContentSize()),e.set(l.__key,f,"text")}}if(y(i)){const c=i.getChildrenSize(),a=o>=c,l=a?i.getChildAtIndex(c-1):i.getChildAtIndex(o);if(x(l)){let f=0;a&&(f=l.getTextContentSize()),r.set(l.__key,f,"text")}}}function Ia(t,e){const r=e.getEditorState()._selection,o=t._selection;if(M(o)){const s=o.anchor,i=o.focus;let c;if(s.type==="text"&&(c=s.getNode(),c.selectionTransform(r,o)),i.type==="text"){const a=i.getNode();c!==a&&a.selectionTransform(r,o)}}}function St(t,e,n,r,o){let s=null,i=0,c=null;r!==null?(s=r.__key,x(r)?(i=r.getTextContentSize(),c="text"):y(r)&&(i=r.getChildrenSize(),c="element")):o!==null&&(s=o.__key,x(o)?c="text":y(o)&&(c="element")),s!==null&&c!==null?t.set(s,i,c):(i=e.getIndexWithinParent(),i===-1&&(i=n.getChildrenSize()),t.set(n.__key,i,"element"))}function _i(t,e,n,r,o){t.type==="text"?(t.key=n,e||(t.offset+=o)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function ka(t,e,n,r,o,s,i){const c=r.anchorNode,a=r.focusNode,l=r.anchorOffset,f=r.focusOffset,$=document.activeElement;if(o.has("collaboration")&&$!==s||$!==null&&ds($))return;if(!M(e)){t!==null&&Ue(n,c,a)&&r.removeAllRanges();return}const u=e.anchor,d=e.focus,_=u.key,h=d.key,g=ht(n,_),m=ht(n,h),p=u.offset,v=d.offset,O=e.format,C=e.style,T=e.isCollapsed();let S=g,A=m,U=!1;if(u.type==="text"){S=ft(g);const V=u.getNode();U=V.getFormat()!==O||V.getStyle()!==C}else M(t)&&t.anchor.type==="text"&&(U=!0);if(d.type==="text"&&(A=ft(m)),!(S===null||A===null)&&(T&&(t===null||U||M(t)&&(t.format!==O||t.style!==C))&&Ta(O,C,p,_,performance.now()),!(l===p&&f===v&&c===S&&a===A&&!(r.type==="Range"&&T)&&(($===null||!s.contains($))&&s.focus({preventScroll:!0}),u.type!=="element")))){try{r.setBaseAndExtent(S,p,A,v)}catch{}if(!o.has("skip-scroll-into-view")&&e.isCollapsed()&&s!==null&&s===document.activeElement){const V=e instanceof me&&e.anchor.type==="element"?S.childNodes[p]||null:r.rangeCount>0?r.getRangeAt(0):null;if(V!==null){const w=V.getBoundingClientRect();jc(n,w,s)}}Ca()}}function La(t,e){let n=R();return n===null&&(n=ie().selectEnd()),n.insertNodes(t,e)}function Fa(){const t=R();return t===null?"":t.getTextContent()}function Ka(t,e,n){const r=[];let o=null,s=null;function i(l,f,$){const u={cell:$,startColumn:f,startRow:l},d=$.__rowSpan,_=$.__colSpan;for(let h=0;h<d;h++){r[l+h]===void 0&&(r[l+h]=[]);for(let g=0;g<_;g++)r[l+h][f+g]=u}e.is($)&&(o=u),n.is($)&&(s=u)}function c(l,f){return r[l]===void 0||r[l][f]===void 0}const a=t.getChildren();for(let l=0;l<a.length;l++){const f=a[l];if(!Rt(f))throw Error("Expected GridNode children to be GridRowNode");const $=f.getChildren();let u=0;for(const d of $){if(!Le(d))throw Error("Expected GridRowNode children to be GridCellNode");for(;!c(l,u);)u++;i(l,u,d),u+=d.__colSpan}}if(o===null)throw Error("Anchor not found in Grid");if(s===null)throw Error("Focus not found in Grid");return[r,o,s]}let K=null,B=null,J=!1,So=!1,Mt=0;const gi={characterData:!0,childList:!0,subtree:!0};function Ae(){return J||K!==null&&K._readOnly}function Y(){if(J)throw Error("Cannot use method in read-only mode.")}function pi(){if(Mt>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function ne(){if(K===null)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return K}function I(){if(B===null)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return B}function Ba(){return B}function bi(t,e,n){const r=e.__type,o=ac(t,r);let s=n.get(r);s===void 0&&(s=Array.from(o.transforms),n.set(r,s));const i=s.length;for(let c=0;c<i&&(s[c](e),!!e.isAttached());c++);}function Ni(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function Wa(t,e){const n=e._dirtyLeaves,r=t._nodeMap;for(const o of n){const s=r.get(o);x(s)&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&ks(s)}}function za(t,e){const n=e._dirtyLeaves,r=e._dirtyElements,o=t._nodeMap,s=fe(),i=new Map;let c=n,a=c.size,l=r,f=l.size;for(;a>0||f>0;){if(a>0){e._dirtyLeaves=new Set;for(const $ of c){const u=o.get($);x(u)&&u.isAttached()&&u.isSimpleText()&&!u.isUnmergeable()&&ks(u),u!==void 0&&Ni(u,s)&&bi(e,u,i),n.add($)}if(c=e._dirtyLeaves,a=c.size,a>0){Mt++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(const $ of l){const u=$[0],d=$[1];if(u!=="root"&&!d)continue;const _=o.get(u);_!==void 0&&Ni(_,s)&&bi(e,_,i),r.set(u,d)}c=e._dirtyLeaves,a=c.size,l=e._dirtyElements,f=l.size,Mt++}e._dirtyLeaves=n,e._dirtyElements=r}function Ua(t){return Mo(t,I()._nodes)}function Mo(t,e){const n=t.type,r=e.get(n);if(r===void 0)throw Error(`parseEditorState: type "${n}" + not found`);const o=r.klass;if(t.type!==o.getType())throw Error(`LexicalNode: Node ${o.name} does not implement .importJSON().`);const s=o.importJSON(t),i=t.children;if(y(s)&&Array.isArray(i))for(let c=0;c<i.length;c++){const a=i[c],l=Mo(a,e);s.append(l)}return s}function Ya(t,e,n){const r=wo(),o=K,s=J,i=B,c=e._dirtyElements,a=e._dirtyLeaves,l=e._cloneNotNeeded,f=e._dirtyType;e._dirtyElements=new Map,e._dirtyLeaves=new Set,e._cloneNotNeeded=new Set,e._dirtyType=0,K=r,J=!1,B=e;try{const $=e._nodes,u=t.root;Mo(u,$),n&&n(),r._readOnly=!0,yi(r)}finally{e._dirtyElements=c,e._dirtyLeaves=a,e._cloneNotNeeded=l,e._dirtyType=f,K=o,J=s,B=i}return r}function vi(t,e){const n=K,r=J,o=B;K=t,J=!0,B=null;try{return e()}finally{K=n,J=r,B=o}}function yi(t){const e=t._nodeMap;e.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},e.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},e.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}}function Ee(t){const e=t._pendingEditorState,n=t._rootElement,r=t._headless||n===null;if(e===null)return;const o=t._editorState,s=o._selection,i=e._selection,c=t._dirtyType!==pe,a=K,l=J,f=B,$=t._updating,u=t._observer;let d=null;if(t._pendingEditorState=null,t._editorState=e,!r&&c&&u!==null){B=t,K=e,J=!1,t._updating=!0;try{const C=t._dirtyType,T=t._dirtyElements,S=t._dirtyLeaves;u.disconnect(),d=da(o,e,t,C,T,S)}catch(C){if(C instanceof Error&&t._onError(C),!So)Di(t,null,n,e),fs(t),t._dirtyType=Oe,So=!0,Ee(t),So=!1;else throw C;return}finally{u.observe(n,gi),t._updating=$,K=a,J=l,B=f}}e._readOnly||(e._readOnly=!0,yi(e),M(i)&&(Object.freeze(i.anchor),Object.freeze(i.focus)),Object.freeze(i));const _=t._dirtyLeaves,h=t._dirtyElements,g=t._normalizedNodes,m=t._updateTags,p=t._deferred;c&&(t._dirtyType=pe,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),ra(t,e);const v=r?null:ee(t._window);if(t._editable&&v!==null&&(c||i===null||i.dirty)){B=t,K=e;try{if(u!==null&&u.disconnect(),c||i===null||i.dirty){const C=t._blockCursorElement;C!==null&&fo(C,t,n),ka(s,i,t,v,m,n)}ta(t,n,i),u!==null&&u.observe(n,gi)}finally{B=f,K=a}}d!==null&&Ha(t,o,e,d,m,_),!M(i)&&i!==null&&(s===null||!s.is(i))&&t.dispatchCommand(Tr,void 0);const O=t._pendingDecorators;O!==null&&(t._decorators=O,t._pendingDecorators=null,rt("decorator",t,!0,O)),Ga(t,o,e),rt("update",t,!0,{dirtyElements:h,dirtyLeaves:_,editorState:e,normalizedNodes:g,prevEditorState:o,tags:m}),Ja(t,p),Va(t)}function Ga(t,e,n){const r=bs(e),o=bs(n);r!==o&&rt("textcontent",t,!0,o)}function Ha(t,e,n,r,o,s){const i=Array.from(t._listeners.mutation),c=i.length;for(let a=0;a<c;a++){const[l,f]=i[a],$=r.get(f);$!==void 0&&l($,{dirtyLeaves:s,updateTags:o})}}function rt(t,e,n,...r){const o=e._updating;e._updating=n;try{const s=Array.from(e._listeners[t]);for(let i=0;i<s.length;i++)s[i].apply(null,r)}finally{e._updating=o}}function mi(t,e,n){if(t._updating===!1||B!==t){let o=!1;return t.update(()=>{o=mi(t,e,n)}),o}const r=ro(t);for(let o=4;o>=0;o--)for(let s=0;s<r.length;s++){const a=r[s]._commands.get(e);if(a!==void 0){const l=a[o];if(l!==void 0){const f=Array.from(l),$=f.length;for(let u=0;u<$;u++)if(f[u](n,t)===!0)return!0}}}return!1}function Va(t){const e=t._updates;if(e.length!==0){const n=e.shift();if(n){const[r,o]=n;xi(t,r,o)}}}function Ja(t,e){if(t._deferred=[],e.length!==0){const n=t._updating;t._updating=!0;try{for(let r=0;r<e.length;r++)e[r]()}finally{t._updating=n}}}function Ei(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const o=n.shift();if(o){const[s,i]=o;let c,a;i!==void 0&&(c=i.onUpdate,a=i.tag,i.skipTransforms&&(r=!0),c&&t._deferred.push(c),a&&t._updateTags.add(a)),s()}}return r}function xi(t,e,n){const r=t._updateTags;let o,s,i=!1,c=!1;n!==void 0&&(o=n.onUpdate,s=n.tag,s!=null&&r.add(s),i=n.skipTransforms||!1,c=n.discrete||!1),o&&t._deferred.push(o);const a=t._editorState;let l=t._pendingEditorState,f=!1;(l===null||l._readOnly)&&(l=t._pendingEditorState=Qa(l||a),f=!0),l._flushSync=c;const $=K,u=J,d=B,_=t._updating;K=l,J=!1,t._updating=!0,B=t;try{f&&(t._headless?a._selection!=null&&(l._selection=a._selection.clone()):l._selection=Pa(t));const g=t._compositionKey;e(),i=Ei(t,i),Ia(l,t),t._dirtyType!==pe&&(i?Wa(l,t):za(l,t),Ei(t),oa(a,l,t._dirtyLeaves,t._dirtyElements));const m=t._compositionKey;g!==m&&(l._flushSync=!0);const p=l._selection;if(M(p)){const v=l._nodeMap,O=p.anchor.key,C=p.focus.key;if(v.get(O)===void 0||v.get(C)===void 0)throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else tt(p)&&p._nodes.size===0&&(l._selection=null)}catch(g){g instanceof Error&&t._onError(g),t._pendingEditorState=a,t._dirtyType=Oe,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),Ee(t);return}finally{K=$,J=u,B=d,t._updating=_,Mt=0}t._dirtyType!==pe||qa(l,t)?l._flushSync?(l._flushSync=!1,Ee(t)):f&&lc(()=>{Ee(t)}):(l._flushSync=!1,f&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function X(t,e,n){t._updating?t._updates.push([e,n]):xi(t,e,n)}function Do(t,e,n){Y();const r=t.__key,o=t.getParent();if(o===null)return;const s=qc(t);let i=!1;if(M(s)&&e){const c=s.anchor,a=s.focus;c.key===r&&(St(c,t,o,t.getPreviousSibling(),t.getNextSibling()),i=!0),a.key===r&&(St(a,t,o,t.getPreviousSibling(),t.getNextSibling()),i=!0)}if(M(s)&&e&&!i){const c=t.getIndexWithinParent();Ne(t),Ot(s,o,c,-1)}else Ne(t);!n&&!Z(o)&&!o.canBeEmpty()&&o.isEmpty()&&Do(o,e),e&&j(o)&&o.isEmpty()&&o.selectEnd()}class Dt{static getType(){throw Error(`LexicalNode: Node ${this.name} does not implement .getType().`)}static clone(e){throw Error(`LexicalNode: Node ${this.name} does not implement .clone().`)}getType(){return this.__type}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=F(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||R();if(n==null)return!1;const r=n.getNodes().some(o=>o.__key===this.__key);return x(this)?r:M(n)&&n.anchor.type==="element"&&n.focus.type==="element"&&n.anchor.key===n.focus.key&&n.anchor.offset===n.focus.offset?!1:r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:F(e)}getParentOrThrow(){const e=this.getParent();if(e===null)throw Error(`Expected node ${this.__key} to have a parent.`);return e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(Z(n))return e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();if(e===null)throw Error(`Expected node ${this.__key} to have a top parent element.`);return e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const n=this.getLatest().__prev;return n===null?null:F(n)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const n=this.getLatest().__next;return n===null?null:F(n)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=this.getParents(),r=e.getParents();y(this)&&n.unshift(this),y(e)&&r.unshift(e);const o=n.length,s=r.length;if(o===0||s===0||n[o-1]!==r[s-1])return null;const i=new Set(r);for(let c=0;c<o;c++){const a=n[c];if(i.has(a))return a}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const n=this.getCommonAncestor(e);let r=0,o=0,s=this;for(;;){const i=s.getParentOrThrow();if(i===n){r=s.getIndexWithinParent();break}s=i}for(s=e;;){const i=s.getParentOrThrow();if(i===n){o=s.getIndexWithinParent();break}s=i}return r<o}isParentOf(e){const n=this.__key;if(n===e.__key)return!1;let r=e;for(;r!==null;){if(r.__key===n)return!0;r=r.getParent()}return!1}getNodesBetween(e){const n=this.isBefore(e),r=[],o=new Set;let s=this;for(;;){const i=s.__key;if(o.has(i)||(o.add(i),r.push(s)),s===e)break;const c=y(s)?n?s.getFirstChild():s.getLastChild():null;if(c!==null){s=c;continue}const a=n?s.getNextSibling():s.getPreviousSibling();if(a!==null){s=a;continue}const l=s.getParentOrThrow();if(o.has(l.__key)||r.push(l),l===e)break;let f=null,$=l;do{if($===null)throw Error("getNodesBetween: ancestor is null");f=n?$.getNextSibling():$.getPreviousSibling(),$=$.getParent(),$!==null&&f===null&&!o.has($.__key)&&r.push($)}while(f===null);s=f}return n||r.reverse(),r}isDirty(){const n=I()._dirtyLeaves;return n!==null&&n.has(this.__key)}getLatest(){const e=F(this.__key);if(e===null)throw Error("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update.");return e}getWritable(){Y();const e=ne(),n=I(),r=e._nodeMap,o=this.__key,s=this.getLatest(),i=s.__parent,c=n._cloneNotNeeded,a=R();if(a!==null&&(a._cachedNodes=null),c.has(o))return dt(s),s;const f=s.constructor.clone(s);return f.__parent=i,f.__next=s.__next,f.__prev=s.__prev,y(s)&&y(f)?(f.__first=s.__first,f.__last=s.__last,f.__size=s.__size,f.__indent=s.__indent,f.__format=s.__format,f.__dir=s.__dir):x(s)&&x(f)&&(f.__format=s.__format,f.__style=s.__style,f.__mode=s.__mode,f.__detail=s.__detail),c.add(o),f.__key=o,dt(f),r.set(o,f),f}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){throw Error("createDOM: base method not extended")}updateDOM(e,n,r){throw Error("updateDOM: base method not extended")}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){throw Error("exportJSON: base method not extended")}static importJSON(e){throw Error(`LexicalNode: Node ${this.name} does not implement .importJSON().`)}static transform(){return null}remove(e){Do(this,!0,e)}replace(e,n){Y();let r=R();r!==null&&(r=r.clone()),ao(this,e);const o=this.getLatest(),s=this.__key,i=e.__key,c=e.getWritable(),a=this.getParentOrThrow().getWritable(),l=a.__size;Ne(c);const f=o.getPreviousSibling(),$=o.getNextSibling(),u=o.__prev,d=o.__next,_=o.__parent;if(Do(o,!1,!0),f===null)a.__first=i;else{const h=f.getWritable();h.__next=i}if(c.__prev=u,$===null)a.__last=i;else{const h=$.getWritable();h.__prev=i}if(c.__next=d,c.__parent=_,a.__size=l,n&&this.getChildren().forEach(h=>{c.append(h)}),M(r)){de(r);const h=r.anchor,g=r.focus;h.key===s&&ri(h,c),g.key===s&&ri(g,c)}return fe()===s&&W(i),c}insertAfter(e,n=!0){Y(),ao(this,e);const r=this.getWritable(),o=e.getWritable(),s=o.getParent(),i=R();let c=!1,a=!1;if(s!==null){const d=e.getIndexWithinParent();if(Ne(o),M(i)){const _=s.__key,h=i.anchor,g=i.focus;c=h.type==="element"&&h.key===_&&h.offset===d+1,a=g.type==="element"&&g.key===_&&g.offset===d+1}}const l=this.getNextSibling(),f=this.getParentOrThrow().getWritable(),$=o.__key,u=r.__next;if(l===null)f.__last=$;else{const d=l.getWritable();d.__prev=$}if(f.__size++,r.__next=$,o.__next=u,o.__prev=r.__key,o.__parent=r.__parent,n&&M(i)){const d=this.getIndexWithinParent();Ot(i,f,d+1);const _=f.__key;c&&i.anchor.set(_,d+2,"element"),a&&i.focus.set(_,d+2,"element")}return e}insertBefore(e,n=!0){Y(),ao(this,e);const r=this.getWritable(),o=e.getWritable(),s=o.__key;Ne(o);const i=this.getPreviousSibling(),c=this.getParentOrThrow().getWritable(),a=r.__prev,l=this.getIndexWithinParent();if(i===null)c.__first=s;else{const $=i.getWritable();$.__next=s}c.__size++,r.__prev=s,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;const f=R();if(n&&M(f)){const $=this.getParentOrThrow();Ot(f,$,l)}return e}isParentRequired(){return!1}createParentElementNode(){return Ce()}selectPrevious(e,n){Y();const r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(y(r))return r.select();if(!x(r)){const s=r.getIndexWithinParent()+1;return o.select(s,s)}return r.select(e,n)}selectNext(e,n){Y();const r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(y(r))return r.select(0,0);if(!x(r)){const s=r.getIndexWithinParent();return o.select(s,s)}return r.select(e,n)}markDirty(){this.getWritable()}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,_s(this,e),this.__type!=="root"&&(Y(),ja(this.__type,this.constructor))}}function ja(t,e){const n=I()._nodes.get(t);if(n===void 0)throw Error(`Create node: Attempted to create node ${e.name} that was not configured to be used on the editor.`);const r=n.klass;if(r!==e)throw Error(`Create node: Type ${t} in node ${e.name} does not match registered node ${r.name} with the same type`)}class Ao extends Dt{decorate(e,n){throw Error("decorate: base method not extended")}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}constructor(e){super(e)}}function P(t){return t instanceof Ao}class xe extends Dt{getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Xi[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const n=I()._dirtyElements;return n!==null&&n.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(x(n)&&e.push(n),y(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(y(e)){const n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(y(e)){const n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const s=n[r-1];return y(s)&&s.getLastDescendant()||s||null}const o=n[e];return y(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const n=this.getLatest().__first;return n===null?null:F(n)}getFirstChildOrThrow(){const e=this.getFirstChild();if(e===null)throw Error(`Expected node ${this.__key} to have a first child.`);return e}getLastChild(){const n=this.getLatest().__last;return n===null?null:F(n)}getLastChildOrThrow(){const e=this.getLastChild();if(e===null)throw Error(`Expected node ${this.__key} to have a last child.`);return e}getChildAtIndex(e){const n=this.getChildrenSize();let r,o;if(e<n/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=e;){if(o===e)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=n-1;r!==null&&o>=e;){if(o===e)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let o=0;o<r;o++){const s=n[o];e+=s.getTextContent(),y(s)&&o!==r-1&&!s.isInline()&&(e+=se)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let o=0;o<r;o++){const s=n[o];e+=s.getTextContentSize(),y(s)&&o!==r-1&&!s.isInline()&&(e+=se.length)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(e!==""){const n=cs[e];return(this.getFormat()&n)!=0}return!1}select(e,n){Y();const r=R();let o=e,s=n;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const a=this.getFirstChild();if(x(a)||y(a))return a.select(0,0)}else if((e===void 0||e===i)&&(n===void 0||n===i)){const a=this.getLastChild();if(x(a)||y(a))return a.select()}}o===void 0&&(o=i),s===void 0&&(s=i);const c=this.__key;if(M(r))r.anchor.set(c,o,"element"),r.focus.set(c,s,"element"),r.dirty=!0;else return ui(c,o,c,s,"element","element");return r}selectStart(){const e=this.getFirstDescendant();return y(e)||x(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){const e=this.getLastDescendant();return y(e)||x(e)?e.select():e!==null?e.selectNext():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(r=>r.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){const n=this.getWritable();return n.__format=e!==""?cs[e]:0,this}setIndent(e){const n=this.getWritable();return n.__indent=e,this}splice(e,n,r){const o=r.length,s=this.getChildrenSize(),i=this.getWritable(),c=i.__key,a=[],l=[],f=this.getChildAtIndex(e+n);let $=null,u=s-n+o;if(e!==0)if(e===s)$=this.getLastChild();else{const _=this.getChildAtIndex(e);_!==null&&($=_.getPreviousSibling())}if(n>0){let _=$===null?this.getFirstChild():$.getNextSibling();for(let h=0;h<n;h++){if(_===null)throw Error("splice: sibling not found");const g=_.getNextSibling(),m=_.__key,p=_.getWritable();Ne(p),l.push(m),_=g}}let d=$;for(let _=0;_<o;_++){const h=r[_];d!==null&&h.is(d)&&($=d=d.getPreviousSibling());const g=h.getWritable();g.__parent===c&&u--,Ne(g);const m=h.__key;if(d===null)i.__first=m,g.__prev=null;else{const p=d.getWritable();p.__next=m,g.__prev=p.__key}if(h.__key===c)throw Error("append: attempting to append self");g.__parent=c,a.push(m),d=h}if(e+n===s){if(d!==null){const _=d.getWritable();_.__next=null,i.__last=d.__key}}else if(f!==null){const _=f.getWritable();if(d!==null){const h=d.getWritable();_.__prev=d.__key,h.__next=f.__key}else _.__prev=null}if(i.__size=u,l.length){const _=R();if(M(_)){const h=new Set(l),g=new Set(a),{anchor:m,focus:p}=_;Ci(m,h,g)&&St(m,m.getNode(),this,$,f),Ci(p,h,g)&&St(p,p.getNode(),this,$,f),u===0&&!this.canBeEmpty()&&!Z(this)&&this.remove()}}return i}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,n){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canExtractContents(){return!0}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}constructor(e){super(e);this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}}function y(t){return t instanceof xe}function Ci(t,e,n){let r=t.getNode();for(;r;){const o=r.__key;if(e.has(o)&&!n.has(o))return!0;r=r.getParent()}return!1}class we extends xe{static getType(){return"root"}static clone(){return new we}getTopLevelElementOrThrow(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(){const e=this.__cachedText;return(Ae()||I()._dirtyType===pe)&&e!==null?e:super.getTextContent()}remove(){throw Error("remove: cannot be called on root nodes")}replace(e){throw Error("replace: cannot be called on root nodes")}insertBefore(e){throw Error("insertBefore: cannot be called on root nodes")}insertAfter(e){throw Error("insertAfter: cannot be called on root nodes")}updateDOM(e,n){return!1}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(!y(r)&&!P(r))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return super.append(...e)}static importJSON(e){const n=ie();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}constructor(){super("root");this.__cachedText=null}}function Xa(){return new we}function j(t){return t instanceof we}function qa(t,e){const n=e.getEditorState()._selection,r=t._selection;if(r!==null){if(r.dirty||!r.is(n))return!0}else if(n!==null)return!0;return!1}function Qa(t){return new At(new Map(t._nodeMap))}function wo(){return new At(new Map([["root",Xa()]]))}function Ti(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType())throw Error(`LexicalNode: Node ${n.name} does not implement .exportJSON().`);const r=e.children;if(y(t)){if(!Array.isArray(r))throw Error(`LexicalNode: Node ${n.name} is an element but .exportJSON() does not have a children array.`);const o=t.getChildren();for(let s=0;s<o.length;s++){const i=o[s],c=Ti(i);r.push(c)}}return e}class At{isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return vi(this,e)}clone(e){const n=new At(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return vi(this,()=>({root:Ti(ie())}))}constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}}class Re extends Dt{static getType(){return"linebreak"}static clone(e){return new Re(e.__key)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{const n=e.parentElement;return n!=null&&n.firstChild===e&&n.lastChild===e?null:{conversion:Za,priority:0}}}}static importJSON(e){return Pe()}exportJSON(){return{type:"linebreak",version:1}}constructor(e){super(e)}}function Za(t){return{node:Pe()}}function Pe(){return bt(new Re)}function ot(t){return t instanceof Re}function Ro(t,e){return e&Wr?"code":e&Yr?"mark":e&zr?"sub":e&Ur?"sup":null}function Po(t,e){return e&Kr?"strong":e&Br?"em":"span"}function Oi(t,e,n,r,o){const s=r.classList;let i=Ve(o,"base");i!==void 0&&s.add(...i),i=Ve(o,"underlineStrikethrough");let c=!1;const a=e&at&&e&ct,l=n&at&&n&ct;i!==void 0&&(l?(c=!0,a||s.add(...i)):a&&s.remove(...i));for(const f in be){const u=be[f];if(i=Ve(o,f),i!==void 0)if(n&u){if(c&&(f==="underline"||f==="strikethrough")){e&u&&s.remove(...i);continue}((e&u)==0||a&&f==="underline"||f==="strikethrough")&&s.add(...i)}else e&u&&s.remove(...i)}}function el(t,e){const n=t.length,r=e.length;let o=0,s=0;for(;o<n&&o<r&&t[o]===e[o];)o++;for(;s+o<n&&s+o<r&&t[n-s-1]===e[r-s-1];)s++;return[o,n-o-s,e.slice(o,r-s)]}function Si(t,e,n){const r=e.firstChild,o=n.isComposing(),i=t+(o?lt:"");if(r==null)e.textContent=i;else{const c=r.nodeValue;if(c!==i)if(o||ge){const[a,l,f]=el(c,i);l!==0&&r.deleteData(a,l),r.insertData(a,f)}else r.nodeValue=i}}function Mi(t,e,n,r,o,s){Si(o,t,e);const c=s.theme.text;c!==void 0&&Oi(n,0,r,t,c)}function wt(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Ie extends Dt{static getType(){return"text"}static clone(e){return new Ie(e.__text,e.__key)}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Qi[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===Lr}isComposing(){return this.__key===fe()}isSegmented(){return this.getLatest().__mode===Fr}isDirectionless(){return(this.getLatest().__detail&Gr)!=0}isUnmergeable(){return(this.getLatest().__detail&Hr)!=0}hasFormat(e){const n=be[e];return(this.getFormat()&n)!=0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){const o=this.getLatest().__format;return $s(o,e,n)}createDOM(e){const n=this.__format,r=Ro(this,n),o=Po(this,n),s=r===null?o:r,i=document.createElement(s);let c=i;r!==null&&(c=document.createElement(o),i.appendChild(c));const a=this.__text;Mi(c,this,o,n,a,e);const l=this.__style;return l!==""&&(i.style.cssText=l),i}updateDOM(e,n,r){const o=this.__text,s=e.__format,i=this.__format,c=Ro(this,s),a=Ro(this,i),l=Po(this,s),f=Po(this,i);if((c===null?l:c)!==(a===null?f:a))return!0;if(c===a&&l!==f){const p=n.firstChild;if(p==null)throw Error("updateDOM: prevInnerDOM is null or undefined");const v=document.createElement(f);return Mi(v,this,f,i,o,r),n.replaceChild(v,p),!1}let d=n;if(a!==null&&c!==null&&(d=n.firstChild,d==null))throw Error("updateDOM: innerDOM is null or undefined");Si(o,d,this);const h=r.theme.text;h!==void 0&&s!==i&&Oi(f,s,i,d,h);const g=e.__style,m=this.__style;return g!==m&&(n.style.cssText=m),!1}static importDOM(){return{"#text":()=>({conversion:ol,priority:0}),b:()=>({conversion:rl,priority:0}),br:()=>({conversion:nl,priority:0}),code:()=>({conversion:_e,priority:0}),em:()=>({conversion:_e,priority:0}),i:()=>({conversion:_e,priority:0}),s:()=>({conversion:_e,priority:0}),span:()=>({conversion:tl,priority:0}),strong:()=>({conversion:_e,priority:0}),sub:()=>({conversion:_e,priority:0}),sup:()=>({conversion:_e,priority:0}),u:()=>({conversion:_e,priority:0})}}static importJSON(e){const n=z(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){let{element:n}=super.exportDOM(e);return n!==null&&(this.hasFormat("bold")&&(n=wt(n,"b")),this.hasFormat("italic")&&(n=wt(n,"i")),this.hasFormat("strikethrough")&&(n=wt(n,"s")),this.hasFormat("underline")&&(n=wt(n,"u"))),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?be[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?ji[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=be[e];return this.setFormat(this.getFormat()^n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=Gr,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=Hr,e}setMode(e){const n=qi[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){Y();let r=e,o=n;const s=R(),i=this.getTextContent(),c=this.__key;if(typeof i=="string"){const a=i.length;r===void 0&&(r=a),o===void 0&&(o=a)}else r=0,o=0;if(M(s)){const a=fe();(a===s.anchor.key||a===s.focus.key)&&W(c),s.setTextNodeRange(this,r,this,o)}else return ui(c,r,c,o,"text","text");return s}spliceText(e,n,r,o){const s=this.getWritable(),i=s.__text,c=r.length;let a=e;a<0&&(a=c+a,a<0&&(a=0));const l=R();if(o&&M(l)){const $=e+c;l.setTextNodeRange(s,$,s,$)}const f=i.slice(0,a)+r+i.slice(a+n);return s.__text=f,s}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){Y();const n=this.getLatest(),r=n.getTextContent(),o=n.__key,s=fe(),i=new Set(e),c=[],a=r.length;let l="";for(let S=0;S<a;S++)l!==""&&i.has(S)&&(c.push(l),l=""),l+=r[S];l!==""&&c.push(l);const f=c.length;if(f===0)return[];if(c[0]===r)return[n];const $=c[0],u=n.getParentOrThrow();let d;const _=n.getFormat(),h=n.getStyle(),g=n.__detail;let m=!1;n.isSegmented()?(d=z($),d.__format=_,d.__style=h,d.__detail=g,m=!0):(d=n.getWritable(),d.__text=$);const p=R(),v=[d];let O=$.length;for(let S=1;S<f;S++){const A=c[S],U=A.length,V=z(A).getWritable();V.__format=_,V.__style=h,V.__detail=g;const w=V.__key,L=O+U;if(M(p)){const q=p.anchor,re=p.focus;q.key===o&&q.type==="text"&&q.offset>O&&q.offset<=L&&(q.key=w,q.offset-=O,p.dirty=!0),re.key===o&&re.type==="text"&&re.offset>O&&re.offset<=L&&(re.key=w,re.offset-=O,p.dirty=!0)}s===o&&W(w),O=L,v.push(V)}hc(this);const C=u.getWritable(),T=this.getIndexWithinParent();return m?(C.splice(T,0,v),this.remove()):C.splice(T,1,v),M(p)&&Ot(p,u,T,f-1),v}mergeWithSibling(e){const n=e===this.getPreviousSibling();if(!n&&e!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");const r=this.__key,o=e.__key,s=this.__text,i=s.length;fe()===o&&W(r);const a=R();if(M(a)){const u=a.anchor,d=a.focus;u!==null&&u.key===o&&(_i(u,n,r,e,i),a.dirty=!0),d!==null&&d.key===o&&(_i(d,n,r,e,i),a.dirty=!0)}const l=e.__text,f=n?l+s:s+l;this.setTextContent(f);const $=this.getWritable();return e.remove(),$}isTextEntity(){return!1}constructor(e,n){super(n);this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}}function tl(t){const e=t,n=e.style.fontWeight==="700",r=e.style.textDecoration==="line-through",o=e.style.fontStyle==="italic",s=e.style.textDecoration==="underline",i=e.style.verticalAlign;return{forChild:c=>(x(c)&&(n&&c.toggleFormat("bold"),r&&c.toggleFormat("strikethrough"),o&&c.toggleFormat("italic"),s&&c.toggleFormat("underline"),i==="sub"&&c.toggleFormat("subscript"),i==="super"&&c.toggleFormat("superscript")),c),node:null}}function nl(){return{node:Pe()}}function rl(t){const n=t.style.fontWeight==="normal";return{forChild:r=>(x(r)&&!n&&r.toggleFormat("bold"),r),node:null}}function ol(t,e,n){let r=t.textContent||"";return!n&&/\n/.test(r)&&(r=r.replace(/\r?\n/gm," "),r.trim().length===0)?{node:null}:{node:z(r)}}const sl={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function _e(t){const e=sl[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(x(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function z(t=""){return bt(new Ie(t))}function x(t){return t instanceof Ie}class ke extends xe{static getType(){return"paragraph"}static clone(e){return new ke(e.__key)}createDOM(e){const n=document.createElement("p"),r=Ve(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:il,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&this.isEmpty()&&n.append(document.createElement("br")),n){const r=this.getFormatType();n.style.textAlign=r;const o=this.getDirection();o&&(n.dir=o);const s=this.getIndent();s>0&&(n.style.textIndent=`${s*20}px`)}return{element:n}}static importJSON(e){const n=Ce();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){const r=Ce(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||x(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function il(t){const e=Ce();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function Ce(){return bt(new ke)}function cl(t){return t instanceof ke}const al=0,ll=1,fl=2,dl=3,ul=4;function Di(t,e,n,r){const o=t._keyToDOMMap;o.clear(),t._editorState=wo(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=pe,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const s=t._observer;s!==null&&(s.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",o.set("root",n))}function $l(t){const e=new Map,n=new Set;return t.forEach(r=>{const o=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null;if(o==null||n.has(o))return;n.add(o);const s=o();s!==null&&Object.keys(s).forEach(i=>{let c=e.get(i);c===void 0&&(c=[],e.set(i,c)),c.push(s[i])})}),e}function hl(t){const e=t||{},n=Ba(),r=e.theme||{},o=t===void 0?n:e.parentEditor||null,s=e.disableEvents||!1,i=wo(),c=e.namespace||(o!==null?o._config.namespace:ms()),a=e.editorState,l=[we,Ie,Re,ke,...e.nodes||[]],f=e.onError,$=e.editable!==void 0?e.editable:!0;let u;if(t===void 0&&n!==null)u=n._nodes;else{u=new Map;for(let _=0;_<l.length;_++){let h=l[_],g=null,m=null;if(typeof h!="function"){const C=h;h=C.replace,g=C.with,m=C.withKlass?C.withKlass:null}{const C=h.name;if(C!=="RootNode"){const T=h.prototype;["getType","clone"].forEach(S=>{h.hasOwnProperty(S)||console.warn(`${C} must implement static "${S}" method`)}),!h.hasOwnProperty("importDOM")&&h.hasOwnProperty("exportDOM")&&console.warn(`${C} should implement "importDOM" if using a custom "exportDOM" method to ensure HTML serialization (important for copy & paste) works as expected`),T instanceof Ao&&(T.hasOwnProperty("decorate")||console.warn(`${T.constructor.name} must implement "decorate" method`)),h.hasOwnProperty("importJSON")||console.warn(`${C} should implement "importJSON" method to ensure JSON and default HTML serialization works as expected`),T.hasOwnProperty("exportJSON")||console.warn(`${C} should implement "exportJSON" method to ensure JSON and default HTML serialization works as expected`)}}const p=h.getType(),v=h.transform(),O=new Set;v!==null&&O.add(v),u.set(p,{klass:h,replace:g,replaceWithKlass:m,transforms:O})}}const d=new _l(i,o,u,{disableEvents:s,namespace:c,theme:r},f||console.error,$l(u),$);return a!==void 0&&(d._pendingEditorState=a,d._dirtyType=Oe),d}class _l{isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){if(r===void 0)throw Error('Listener for type "command" requires a "priority".');const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const s=o.get(e);if(s===void 0)throw Error(`registerCommand: Command ${String(e)} not found in command map`);const i=s[r];return i.add(n),()=>{i.delete(n),s.every(c=>c.size===0)&&o.delete(e)}}registerMutationListener(e,n){if(this._nodes.get(e.getType())===void 0)throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);const o=this._listeners.mutation;return o.set(n,e),()=>{o.delete(n)}}registerNodeTransformToKlass(e,n){const r=e.getType(),o=this._nodes.get(r);if(o===void 0)throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);return o.transforms.add(n),o}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),o=[r],s=r.replaceWithKlass;if(s!=null){const i=this.registerNodeTransformToKlass(s,n);o.push(i)}return _c(this,e.getType()),()=>{o.forEach(i=>i.transforms.delete(n))}}hasNodes(e){for(let n=0;n<e.length;n++){const o=e[n].getType();if(!this._nodes.has(o))return!1}return!0}dispatchCommand(e,n){return E(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=Ve(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,Di(this,n,e,o),n!==null&&(this._config.disableEvents||Ea(n),r!=null&&n.classList.remove(...r)),e!==null){const s=Qc(e),i=e.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=s,this._dirtyType=Oe,fs(this),this._updateTags.add("history-merge"),Ee(this),this._config.disableEvents||ma(e,this),r!=null&&e.classList.add(...r)}else this._window=null;rt("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){if(e.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");ls(this);const r=this._pendingEditorState,o=this._updateTags,s=n!==void 0?n.tag:null;r!==null&&!r.isEmpty()&&(s!=null&&o.add(s),Ee(this)),this._pendingEditorState=e,this._dirtyType=Oe,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&o.add(s),Ee(this)}parseEditorState(e,n){const r=typeof e=="string"?JSON.parse(e):e;return Ya(r,this,n)}update(e,n){X(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),X(this,()=>{const o=R(),s=ie();o!==null?o.dirty=!0:s.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?s.selectStart():s.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()}}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=ee(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,rt("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}constructor(e,n,r,o,s,i,c){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=pe,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=ms(),this._onError=s,this._htmlConversions=i,this._editable=!0,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}}class Ai extends xe{exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}setColSpan(e){return this.getWritable().__colSpan=e,this}setRowSpan(e){return this.getWritable().__rowSpan=e,this}constructor(e,n){super(n);this.__colSpan=e,this.__rowSpan=1}}function Le(t){return t instanceof Ai}class wi extends xe{}function Ri(t){return t instanceof wi}class Pi extends xe{}function Rt(t){return t instanceof Pi}Pt=Xc;It=bt;kt=Ds;Lt=Pe;Ft=Oo;Kt=Ce;Bt=wa;Wt=z;zt=co;Ut=Ye;Yt=Ms;Gt=F;Ht=nt;Vt=ie;Jt=R;jt=Fa;Xt=gt;qt=La;Qt=P;Zt=y;en=Zc;tn=hs;nn=ot;rn=tt;on=cl;sn=M;cn=j;an=Z;ln=x;fn=Jc;dn=Ls;un=Ua;$n=W;hn=de;_n=As;gn=Zo;pn=Bi;bn=Wi;Nn=Fi;vn=Ki;yn=Io;mn=ul;En=al;xn=dl;Cn=ll;Tn=fl;On=Te;Sn=wr;Mn=Rr;Dn=Fe;An=We;wn=Be;Rn=Ra;Pn=Le;In=Ri;kn=Rt;Ln=To;Fn=Ai;Kn=wi;Bn=Pi;Wn=qo;zn=Xo;Un=jo;Yn=Jo;Gn=Ao;Hn=xe;Vn=Qo;Jn=Li;jn=le;Xn=Ii;qn=Ke;Qn=Or;Zn=zo;er=Ko;tr=Lo;nr=Wo;rr=Yo;or=Ho;sr=ko;ir=st;cr=Go;ar=es;lr=Uo;fr=Vo;dr=Re;ur=Fo;$r=Bo;hr=ki;_r=Sr;gr=ke;pr=Ar;br=Mr;Nr=we;vr=Tr;yr=Ie;mr=Dr;Er=D;xr=hl;Cr=Ue;export{Pt as $addUpdateTag,It as $applyNodeReplacement,kt as $copyNode,Lt as $createLineBreakNode,Ft as $createNodeSelection,Kt as $createParagraphNode,Bt as $createRangeSelection,Wt as $createTextNode,zt as $getAdjacentNode,Ut as $getNearestNodeFromDOMNode,Yt as $getNearestRootOrShadowRoot,Gt as $getNodeByKey,Ht as $getPreviousSelection,Vt as $getRoot,Jt as $getSelection,jt as $getTextContent,Xt as $hasAncestor,qt as $insertNodes,Qt as $isDecoratorNode,Zt as $isElementNode,en as $isInlineElementOrDecoratorNode,tn as $isLeafNode,nn as $isLineBreakNode,rn as $isNodeSelection,on as $isParagraphNode,sn as $isRangeSelection,cn as $isRootNode,an as $isRootOrShadowRoot,ln as $isTextNode,fn as $nodesOfType,dn as $normalizeSelection__EXPERIMENTAL,un as $parseSerializedNode,$n as $setCompositionKey,hn as $setSelection,_n as $splitNode,gn as BLUR_COMMAND,pn as CAN_REDO_COMMAND,bn as CAN_UNDO_COMMAND,Nn as CLEAR_EDITOR_COMMAND,vn as CLEAR_HISTORY_COMMAND,yn as CLICK_COMMAND,mn as COMMAND_PRIORITY_CRITICAL,En as COMMAND_PRIORITY_EDITOR,xn as COMMAND_PRIORITY_HIGH,Cn as COMMAND_PRIORITY_LOW,Tn as COMMAND_PRIORITY_NORMAL,On as CONTROLLED_TEXT_INSERTION_COMMAND,Sn as COPY_COMMAND,Mn as CUT_COMMAND,Dn as DELETE_CHARACTER_COMMAND,An as DELETE_LINE_COMMAND,wn as DELETE_WORD_COMMAND,Rn as DEPRECATED_$createGridSelection,Pn as DEPRECATED_$isGridCellNode,In as DEPRECATED_$isGridNode,kn as DEPRECATED_$isGridRowNode,Ln as DEPRECATED_$isGridSelection,Fn as DEPRECATED_GridCellNode,Kn as DEPRECATED_GridNode,Bn as DEPRECATED_GridRowNode,Wn as DRAGEND_COMMAND,zn as DRAGOVER_COMMAND,Un as DRAGSTART_COMMAND,Yn as DROP_COMMAND,Gn as DecoratorNode,Hn as ElementNode,Vn as FOCUS_COMMAND,Jn as FORMAT_ELEMENT_COMMAND,jn as FORMAT_TEXT_COMMAND,Xn as INDENT_CONTENT_COMMAND,qn as INSERT_LINE_BREAK_COMMAND,Qn as INSERT_PARAGRAPH_COMMAND,Zn as KEY_ARROW_DOWN_COMMAND,er as KEY_ARROW_LEFT_COMMAND,tr as KEY_ARROW_RIGHT_COMMAND,nr as KEY_ARROW_UP_COMMAND,rr as KEY_BACKSPACE_COMMAND,or as KEY_DELETE_COMMAND,sr as KEY_DOWN_COMMAND,ir as KEY_ENTER_COMMAND,cr as KEY_ESCAPE_COMMAND,ar as KEY_MODIFIER_COMMAND,lr as KEY_SPACE_COMMAND,fr as KEY_TAB_COMMAND,dr as LineBreakNode,ur as MOVE_TO_END,$r as MOVE_TO_START,hr as OUTDENT_CONTENT_COMMAND,_r as PASTE_COMMAND,gr as ParagraphNode,pr as REDO_COMMAND,br as REMOVE_TEXT_COMMAND,Nr as RootNode,vr as SELECTION_CHANGE_COMMAND,yr as TextNode,mr as UNDO_COMMAND,Er as createCommand,xr as createEditor,N as default,Cr as isSelectionWithinEditor};

//# sourceMappingURL=Lexical.es.prod.js.map
